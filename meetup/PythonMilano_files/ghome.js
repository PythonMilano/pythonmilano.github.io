function BingMapsControlLoaded(){Meetup.Bing.apiLoaded=!0}function initialize(){$(document.body).trigger("geocoderCallback"),$(document.body).data("geocoderLoaded",!0)}Meetup.Templates={rsvpTemplate:'<form method="post" action="{{eventurl}}" id="rsvp-widget-form"><div class="rsvp-section">				{{#rsvpYes}}				<h3>Count me in because...</h3>				{{/rsvpYes}}				{{^rsvpYes}}				<h3>Leave a comment</h3>				{{/rsvpYes}}				<textarea style="height: 3em;" name="rsvpcomment" id="rsvpcomment" class="hasMaxLen maxChars250">{{rsvpComment}}</textarea>				</div>				{{#hasGuests}}				<div class="rsvp-section">					I\'m bringing <input type="text" name="guests" id="guests" maxlength="2" size="2" value="{{numGuests}}" style="text-align:center" /> guests				</div>				{{/hasGuests}}				{{#rsvpClosedButHasGuests}}				<div class="rsvp-section">					I\'m bringing {{numGuests}} guests <input type="hidden" name="guests" id="guests" maxlength="2" size="2" value="{{numGuests}}" style="text-align:center" /> 				</div>				{{/rsvpClosedButHasGuests}}				{{#hasPayment}}				<div class="rsvp-section line">					<p>{{price}}: {{fee}} 					{{#hasWL}} <br /><span style="font-size:9px">(If you get off the waitlist)</span> {{/hasWL}}					</p>					{{#showPayment}}					<div class="line">					<input type="checkbox" name="" value="true" id="pay_now" class="unit" style="margin:0 0.5em 0 0" />					<label class="unit size4of5 D_less">						{{{refundpolicy}}} 					</label>					</div>					{{/showPayment}}				</div>				{{/hasPayment}}				<div style="margin: 0.75em 0 0.5em;">					<input type="submit" class="button primary" id="submit-rsvp" value="Ok" /> <a href="#" id="close-rsvp">Close</a>				</div></form>',shareTemplate:'<div class="rsvp-section">					<h3 id="share-header">Great! Let people know...</h3>					<textarea style="height: 6em;" name="arg_message" id="shareMessage" class="hasMaxLen maxChars140">{{defaultCopy}}</textarea>				</div>				<div class="rsvp-section">					<div class="line" style="margin:0.25em 0">					<input id="rsvpToggleFacebook" type="checkbox" name="" value="true" class="unit" style="margin:0 0.5em 0 0" />					<label class="unit size4of5 D_less">						<img id="rsvpIconFacebook" src="/img/externalservice/socialmediaicons/facebook-16x16g.png" style="vertical-align:middle;"> Facebook<br />						<span id="rsvpFacebookHandle">{{{fname}}}</span>					</label>					</div>					<div class="line" style="margin:0.25em 0">					<input id="rsvpToggleTwitter" type="checkbox" name="" value="true" class="unit" style="margin:0 0.5em 0 0" />					<label class="unit size4of5 D_less">						<img id="rsvpIconTwitter" src="/img/externalservice/socialmediaicons/twitter-16x16g.png" style="vertical-align:middle;"> Twitter<br>						<span id="rsvpTwitterHandle"></span>					</label>					</div>				</div>				<div style="margin: 0.75em 0 0.5em;">					<input type="submit" class="button primary" id="submit-share" value="Share" /> <a href="#" id="close-share">Skip</a>				</div>',moreEventsTemplate:'<div class="rsvp-section">					{{{title}}}					{{{body}}}				</div>				<div style="margin: 0.75em 0 0.5em;">					<a href=""#" id="close-rsvp">Close</a>				</div>',statusTemplates:{yes:'<div class="response-status yes">I\'m going</div>				<div class="line">					<div class="unit size1of2">						<a href="#" class="rsvp-action sub-rsvp-action update">{{updatecopy}}</a>					</div>					<div class="unit lastUnit">						<a href="#" class="sub-rsvp-action remove-rsvp">{{removecopy}}</a>					</div>				</div>',wait:'<div class="response-status wait">I\'m waiting</div>				<div class="line">					<div class="unit size1of2">						<a href="#" class="rsvp-action sub-rsvp-action update">{{updatecopy}}</a>					</div>					<div class="unit lastUnit">						<a href="#" class="sub-rsvp-action remove-rsvp">{{removecopy}}</a>					</div>				</div>',no:'<div class="response-status no">Not going</div>				<div>					{{^isWL}}						<a href="#" class="rsvp-action sub-rsvp-action">Change your mind?</a>					{{/isWL}}					{{#isWL}}						<a href="#" class="rsvp-action sub-rsvp-action">Join the waitlist?</a>					{{/isWL}}				</div>',open:'<a class="button primary rsvp-action" style="font-size: 16px; display: block; text-align: center; font-weight: normal; margin-bottom: 0.25em;" href="#">Count me in</a><a style="display: block; text-align: center;" class="sub-rsvp-action remove-rsvp" href="#">No thanks</a>',closed:'<div class="response-status closed">CLOSED</div>'},lma:{lma_when:{edit:'{{{label}}}				{{#eventPageDivWrapper}}<div class="unit" style="width:436px">{{/eventPageDivWrapper}}				<input class="inline" type="text" name="" value="{{eventdate}}" id="event-date-field" readonly="true" /> {{trnAt}} 				<select class="inline" id="event-when-time" name="time">					{{#options}}<option value="{{option}}" {{#selected}}selected="selected"{{/selected}}>{{formatted}}</option>{{/options}}				</select>				{{#isUS}}				<select class="inline" id="event-when-ampm" name="am_pm">					<option value="0" {{^ampm}}selected="selected"{{/ampm}}>AM</option>					<option value="1" {{#ampm}}selected="selected"{{/ampm}}>PM</option>				</select>				{{/isUS}}				{{#endTimeRuntimeFlag}}					<p id="event-change-duration" class="end-time-toggle small inline-block"><a href="#" style="color: {{linkColor}}">{{trnSetEndTime}}</a></p>				{{/endTimeRuntimeFlag}}				<input type="hidden" id="formattedDate" name="date" value="{{formattedDate}}" />				{{#endTimeRuntimeFlag}}					<div id="event-end-time-picker">					</div>				{{/endTimeRuntimeFlag}}				{{#eventPageDivWrapper}}</div>{{/eventPageDivWrapper}}				{{^hideCancel}}<a href="#" id="cancel-date" class="margin-left cancel-field" data-elm="lma_when">{{trnCancel}}</a>{{/hideCancel}}',current:null},lma_when_end:'{{{headerHtml}}}			<input class="inline" type="text" name="" value="{{eventdateend}}" id="event-end-date-field" readonly="true" /> {{trnAt}} 			<select class="inline" id="event-end-when-time" name="end_time">				{{#options}}<option value="{{option}}" {{#selected}}selected="selected"{{/selected}}>{{formatted}}</option>{{/options}}			</select>			{{#isUS}}			<select class="inline" id="event-end-when-ampm" name="end_am_pm">				<option value="0" {{^ampm}}selected="selected"{{/ampm}}>AM</option>				<option value="1" {{#ampm}}selected="selected"{{/ampm}}>PM</option>			</select>			{{/isUS}}			<p id="event-end-time-delete" class="end-time-toggle small inline-block"><a href="" style="color: {{linkColor}}">{{trnRemoveEndTime}}</a></p>			<p class="explain" id="duration-hours">Duration: {{durationText}}</p>			<input type="hidden" id="formattedEndDate" name="end_date" value="{{eventdate}}" />',lma_where:{edit:'<p class="lma-question edit">{{trnWhere}}:</p>					<a href="#" id="cancel-when"  class="cancel-field" data-elm="lma_where">{{trnCancel}}</a>					{{#if venuename}}					<p>{{trnCurrentPlacePrompt}} {{venuename}}<br/>{{{venueaddress}}}</p>					{{/if}}					{{#if venues}}					<ul class="resetList venue-list">					<li class="clearfix venue-toggler">						<a href="#" id="toggle-recent" class="venue-toggle selected" data-toggle="recent">{{trnRecentPlaces}}</a>						<a href="#" id="toggle-search" class="venue-toggle" data-toggle="search">{{trnFindAPlace}}</a>					</li>					</ul>					<div id="recent" class="venue-tab">						{{{venues}}}					</div>					{{/if}}					<div id="search" class="{{#venues}}jsStartHidden {{/venues}}venue-tab">						<input type="text" style="width:88%" name="" value="" id="event-where-field" class="venuepicker textInputTip" style="width:98%" title="{{trnWhereExample}}" />						<input type="text" style="width:88%" value="" title="{{trnAddress}}" class="textInputTip" id="event-where-address" />						<input type="text" style="width:35%" value="{{{city}}}" title="City" class="textInputTip inline" id="event-where-city" />						{{{states}}}						<select class="inline" style="width: 25%;" id="event-where-country" name="state">{{{countries}}}</select>						<input type="hidden" value="" name="zId" id="zId" />						<input type="hidden" value="" name="locname" id="locname" />						<input type="hidden" value="{{venueid}}" name="venueId" id="venueId" />						<label class="small" for="event-where-private"><input type="checkbox" value="" id="event-where-private"/> {{ trnPrivateRes }}{{^trnPrivateRes}}This location is a private residence.{{/trnPrivateRes}}</label>					</div>',display:'<p class="lma-question">{{trnWhere}}:</p>							<div class="line">							<div class="unit size3of5 lma-question">								<p class="lma-venue-name"><a href="{{mapurl}}" target="_blank">{{venuename}}</a></p>								<p class="lma-venue-address D_less">{{{venueaddress}}}</p>								<input type="hidden" value="{{venueid}}" name="venueId" id="venueId" />							</div>							<div class="unit lastUnit">								<a href="#" id="add-loc" class="propose clearfix add-loc" data-elm="lma_where">{{trnChange}} <span>&rarr;</span></a>							</div>							</div>',current:null},lma_descr:{edit:'<p class="lma-question edit">Additional details:</p>				   <textarea id="descr" name="descr" class="hasMaxLen maxChars50000"></textarea>					<a href="#" id="cancel-desc"  class="cancel-field" data-elm="lma_descr">Cancel</a>',current:null}},venue:'<ul class="recent-venues resetList">			{{#venues}}				<li class="clearfix figureset">					<div class="figureset-figure">						<a href="#" class="button button--primary small add-venue"  data-id="{{id}}" data-lat="{{lat}}" data-lon="{{lon}}">{{trnSelect}}</a>					</div>					<div class="figureset-description subtext">						<p class="recent-venues-name"><a href="{{mapurl}}" target="_blank">{{name}}</a></p>						<p class="recent-venues-address D_less">{{{address}}}</p>					</div>				</li>			{{/venues}}			{{#hasmore}}				<li class="">					{{^first}}					<a href="#" class="page-venues prev">&laquo; {{trnPrevious}}</a>					{{/first}}					{{^last}}					<a href="#" class="page-venues next">{{{trnMore}}} &raquo;</a>					{{/last}}				</li>			{{/hasmore}}	    </ul>',refund:'<h2>Your organizer\'s refund policy for <em>{{eventname}}</em></h2>		<div class="D_dialog_chunk">			{{#norefund}}				<p><strong>Refunds are not offered for this Meetup.</strong></p>			{{/norefund}}			{{^norefund}}				<p style=""><strong>Refunds offered if:</strong></p>				<ul style="margin: 0 0 .75em;">					{{#eventcancel}}						<li style="">the Meetup is cancelled</li>					{{/eventcancel}}					{{#reschedule}}						<li style="">the Meetup is rescheduled</li>					{{/reschedule}}					{{#cancelwithin}}						<li style="">you can cancel at least {{canceldays}} day(s) before the Meetup</li>					{{/cancelwithin}}				</ul>					{{#custom}}						<p>Additional notes: {{custom}}</p>					{{/custom}}					<p><em>Payments you make go to the organizer, not to Meetup.  You must make refund requests to the organizer.</em></p>			{{/norefund}}		</div>		<div class="D_dialog_foot">			<a href="JAVASCRIPT: void(0);" class="D_signal_dismiss_to_refundBox" id="refundCloseLink">Close this</a>		</div>',statemenu:'{{#states}}<select style="width: 50%;" id="event-where-state" name="state">{{#state}}<option value="{{code}}" {{#selected}}selected="selected"{{/selected}}>{{{name}}}</option>{{/state}}</select>{{/states}}',loader:'<div class="loader"></div>'},Meetup.Templates.SponsorHome={availability:"            {{#count}}                <em>{{count}}</em>            {{/count}}            {{message}}        ",location:"            {{#isWorldwide}}                Meetup Groups worldwide that have Meetups about...            {{/isWorldwide}}            {{^isWorldwide}}                Meetup Groups within {{miles}} miles of {{specificLocation}} that have Meetups about...            {{/isWorldwide}}        ",topics:"            {{#topics}}            <li>{{name}}</li>            {{/topics}}        "},Meetup.Templates.PerkCreate={review_global_only:'            <dl class="confirm_section">                <dt>Your Perk offer to Group Members</dt>                    <dd style="white-space:pre-wrap;">{{perk}}</dd>                <dt>How Members will redeem this Perk</dt>                    <dd>{{redeem}}</dd>                <dt>About your business</dt>                    <dd class="last">{{{message}}}</dd>            </dl>            <dl class="confirm_section">                <dt>Offering to Meetup Groups located</dt>                    {{#isWorldwide}}                        <dd>Worldwide</dd>                    {{/isWorldwide}}                    {{^isWorldwide}}                        <dd>within {{distance}} miles of {{specificLocation}}</dd>                    {{/isWorldwide}}                <dt>That have Meetups about</dt>                    <dd>                    {{#topics}}{{name}}{{/topics}}                    </dd>            </dl>            <dl class="confirm_section">                <dt>This Perk will be available to</dt>                    <dd>{{maxParticipants}} Groups</dd>                    <dd class="last callout">                        Your monthly cost up to {{cost}}                    </dd>            </dl>        '},Meetup.Templates.socialshareWidget={shareTemplate:'<div class="infowidget-container" id="socialshare-container"><div class="rsvp-section">                    <h3>{{header}}</h3>                    <textarea style="height: 8em;" name="arg_message" id="shareMessage" class="hasMaxLen maxChars140">{{{defaultCopy}}}</textarea>                </div>                <div class="rsvp-section">                    <div class="line" style="margin:0.25em 0">                        <input id="rsvpToggleFacebook" type="checkbox" name="" value="true" class="unit" style="margin:0 0.5em 0 0" />                        <label class="unit size4of5 D_less">                            <img id="rsvpIconFacebook" src="/img/externalservice/socialmediaicons/facebook-16x16g.png" style="vertical-align:middle;"> Facebook<br />                            <span id="rsvpFacebookHandle">{{{fname}}}</span>                        </label>                    </div>                    <div class="line" style="margin:0.25em 0">                        <input id="rsvpToggleTwitter" type="checkbox" name="" value="true" class="unit" style="margin:0 0.5em 0 0" />                        <label class="unit size4of5 D_less">                            <img id="rsvpIconTwitter" src="/img/externalservice/socialmediaicons/twitter-16x16g.png" style="vertical-align:middle;"> Twitter<br />                            <span id="rsvpTwitterHandle"></span>                        </label>                    </div>                </div>                <div style="margin: 0.75em 0 0.5em;">                    <input type="button" class="D_submit_grad" id="submit-share" value="Share" /> <a href="#" id="close-share">Close</a>            </div></div>',moreTemplate:'<div class="infowidget-container" id="socialshare-container">                <div class="rsvp-section">                    {{{title}}}                    {{{body}}}                </div>                <div style="margin: 0.75em 0 0.5em;">                    <a href=""#" id="close-share">Close</a>                </div>            </div>'},Meetup.Templates.shorturlWidget={body:'<div class="infowidget-container clearfix" id="shorturl-widget-container">                <div class="rsvp-section field-section">                <h3>{{headerCopy}}</h3>                    {{{bodyCopy}}}                    <textarea style="height: 6em;" name="arg_message" id="promoteMessage" class="hasMaxLen maxChars140">{{{defaultCopy}}}</textarea>                </div>                {{^isCallout}}                    <div class="submit-section">                        <input type="button" class="D_submit_grad" id="submit-promote" value="Share" />                     </div>                {{/isCallout}}                <div class="rsvp-section network-section">                    <div class="line" style="margin:0.25em 0">                        <input id="promoteToggleFacebook" type="checkbox" name="" value="true" class="unit" style="margin:0 0.5em 0 0" />                        <label class="unit size4of5 D_less">                            <img id="promoteIconFacebook" src="/img/externalservice/socialmediaicons/facebook-16x16g.png" style="vertical-align:middle;"> Post to my Facebook wall<br />                            <span id="promoteFacebookHandle">{{{fname}}}</span>                        </label>                    </div>                    <div class="line" style="margin:0.25em 0">                        <input id="promoteToggleTwitter" type="checkbox" name="" value="true" class="unit" style="margin:0 0.5em 0 0" />                        <label class="unit size4of5 D_less">                            <img id="promoteIconTwitter" src="/img/externalservice/socialmediaicons/twitter-16x16g.png" style="vertical-align:middle;"> Post to Twitter<br />						<span id="promoteTwitterHandle"></span>					</label>				</div>			</div>			{{#isCallout}}				<div class="submit-section">					<input type="button" class="button primary" id="submit-promote" value="Share" /> 					<a href="#" id="close-shorturl">Close</a>				</div>			{{/isCallout}}		</div>'},Meetup.Templates.autoScheduleEvent='<tr data-date="{{startDate}}">		<th><span><a href="{{eventUrl}}">{{eventTitle}}</a></span></th>		<td>			{{#hasRsvps}}				<span>{{goingCopy}}</span>			{{/hasRsvps}}		</td>		<td>			<span><a href="{{eventUrl}}">{{eventDate}}</a></span>		</td>	</tr>',Meetup.Templates.confirmFriends='<ul class="resetList clearfix friend-list">				{{#friends}}				<li><div class="{{class}}">					<img src="{{photo}}" />				    <p>{{name}}</p>					{{^invited}}					<a href="#" class="fb-blue-button" data-id="{{id}}">{{buttonCopy}}</a>					{{/invited}}					{{#invited}}					<span class="invited-friend">{{successCopy}}</span>					{{/invited}}				</div></li>				{{/friends}}				{{#page}}				<li class="more-friends"><a href="#" class="page-friends"><span>&rarr;</span> More Friends</a></li>				{{/page}}			</ul>',"undefined"==typeof Meetup.UI&&(Meetup.UI={}),Meetup.UI.ValidatorRules={notEmpty:function(a){return""==a.value.replace(/^\s+|\s+$/g,"")||a.value==a.getAttribute("title")?Meetup.Copy.rule_notEmpty:!1},isEmail:function(a){return a.value.match(/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/)?!1:Meetup.Copy.rule_isEmail},isNotEmail:function(a){return a.value.match(/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/)?Meetup.Copy.rule_isNotEmail:!1},hasBrackets:function(a){return a.value.match(/.*?(?:<|>).*/)?Meetup.Copy.rule_hasBrackets:!1},isUrl:function(a){return a.value.length<1?!1:a.value.match(/^\b(?:https?\:\/\/|www[.]|[a-zA-Z]+[.])(?:[a-zA-Z0-9\-\/]+)(\.?[a-zA-Z0-9\-\_\.\/\=\#\&\?]+$)/)?!1:Meetup.Copy.rule_isUrl},isChecked:function(a){return a.checked?!1:Meetup.Copy.rule_isChecked},isMinLength:function(a,b){return a.value.replace(/^\s+|\s+$/g,"").length<b?Meetup.Copy.rule_isMinLength.replace("__MIN__",b):!1},isMaxLength:function(a,b){return a.value.replace(/^\s+|\s+$/g,"").length>b?Meetup.Copy.rule_isMaxLength.replace("__MAX__",b):!1},isNumeric:function(a){var b=a.value.replace(/\s/g,"");return b.length<1?!1:b.match(/^\d+$/)?!1:Meetup.Copy.rule_isNumeric},isValidAge:function(a){return a.value>=18||""===a.value.replace(/^\s+|\s+$/g,"")?!1:Meetup.Copy.rule_isValidAge}},Meetup.UI.Validator=function(a,b){this.init($(a),b),this._cfg={inlineError:!0,element:".element"},this._cfg=$.extend(this._cfg,b||{})},Meetup.UI.Validator.prototype={init:function(a,b){this._cfg=$.extend(this._cfg,b||{}),this.formEl=a,this.activeRules=[],this.formEl.on("submit",$.proxy(this,"evaluateRules"))},addRule:function(a,b){if(b&&"undefined"!=typeof b.jquery){var c=Array.prototype.slice.call(arguments,2),d=this;b.each(function(){var b=[this].concat(c);d.activeRules.push({fn:a,args:b})})}else this.activeRules.push({fn:a,args:Array.prototype.slice.call(arguments,1)})},removeRule:function(a){var b={fn:a,args:Array.prototype.slice.call(arguments,1)};pos=$.inArray(b,this.activeRules),pos>-1&&this.activeRules.splice(pos,1)},evaluateRules:function(a){this.formEl.addClass("validating");for(el in this.errorEls)this.errorEls[el].remove();this.errorEls={};var b=this;$.each(this.activeRules,function(){var c=this.args[0],d=$(c);if(0!=d.length){var e=d.attr("name"),f=this.fn.apply(b,this.args);if(("checkbox"==c.type||"radio"==c.type)&&(c=c.parentNode),f&&b._cfg.inlineError){if(a.preventDefault(),void 0===b.errorEls[e]){b.errorEls[e]=$('<div class="inlineErrorMsgs" style="width: '+(d.outerWidth()>0?d.outerWidth()+"px;":"auto")+'" />'),d.after(b.errorEls[e]);var g=$('<div class="inlineErrorMsg">'+f+"</div>");b.errorEls[e].append(g),c.style.backgroundColor="pink"}}else if(f){a.preventDefault();var h=d.parents(b._cfg.element);b.errorEls[e]=$('<p class="error">'+f+"</p>"),d.addClass("error"),h.append(b.errorEls[e]),h.removeClass("complete").addClass("error")}else c.style.backgroundColor="white"}}),Meetup.UI.ValidatorErrors=this.errorEls,"function"==typeof this._cfg.callback&&0==this.errorEls.length&&this._cfg.callback()},clearErrors:function(){for(el in this.errorEls)this.errorEls[el].remove();var a=this;$.each(this.activeRules,function(){var b=this.args[0],c=$(b);if(0!=c.length){var d=c.parents(a._cfg.element);d.removeClass("error")}})},formEl:null,inputEls:null,activeRules:null,errorEls:null},"undefined"==typeof Meetup.Copy.rule_notEmpty&&(Meetup.Copy.rule_notEmpty="Can't be empty."),"undefined"==typeof Meetup.Copy.rule_isChecked&&(Meetup.Copy.rule_isChecked="This checkbox is required."),"undefined"==typeof Meetup.Copy.rule_isEmail&&(Meetup.Copy.rule_isEmail="Doesn't look like an email address."),"undefined"==typeof Meetup.Copy.rule_isEmail&&(Meetup.Copy.rule_isNotEmail="This cannot be an email address."),"undefined"==typeof Meetup.Copy.rule_isUrl&&(Meetup.Copy.rule_isUrl="Doesn't look like a Url"),"undefined"==typeof Meetup.Copy.rule_isNumeric&&(Meetup.Copy.rule_isNumeric="Numbers only."),"undefined"==typeof Meetup.Copy.rule_isMinLength&&(Meetup.Copy.rule_isMinLength="Should be at least __MIN__ characters."),"undefined"==typeof Meetup.Copy.rule_isMaxLength&&(Meetup.Copy.rule_isMaxLength="Should be fewer than __MAX__ characters."),"undefined"==typeof Meetup.Copy.rule_hasBrackets&&(Meetup.Copy.rule_hasBrackets="Should not have a &lt; or a &gt;"),Meetup.UI.FieldErrors={},function(a){a.validationSettings={$errorEl:null},a.fn.bindValidation=function(b,c,d){var e=this,f=c||{pass:function(a){},fail:function(a,b){}};if(!b||0===b.length)return void LOG.error("bindValidation: bad arguments - requires an arry of rules to apply");var g=function(b){var c=a(b);if(0!=c.length){var d=a.validationSettings.$errorEl||a(b).closest("form"),e=c.data("validation_rules"),f=c.data("validation_callbacks"),g=[],j=Meetup.UI.FieldErrors,k=d.data("validation_errors"),l=c.data("validation_errors"),m=!1;e&&(c.trigger("clearTip"),h(b),e&&a.each(e,function(a,c){var d;d=c.param?c.rule(b,c.param):c.rule(b),d?(m=!1,g.push(d)):m=g.length>0?!1:!0}),m?(f.pass(b),c.data("client_validation_passed",!0),j[b.id]&&delete j[b.id],k[b.id]&&delete k[b.id],l&&c.removeData("validation_errors")):(c.data("validation_errors",g),c.data("client_validation_passed",null),i(b,g),f.fail(b,g),j[b.id]=g,k[b.id]=g))}},h=function(b){var c=document.getElementById("errorList_"+b.id);c&&a(c).remove(),a(b).removeClass("error")},i=function(b,c){var d=a(b),e=a('<ul id="errorList_'+b.id+'" class="inlineErrorMsgs" style="width: '+(d.outerWidth()>0?d.outerWidth()+"px;":"auto")+'" />');d.after(e),a.each(c,function(a,b){e.append('<li class="inlineErrorMsg">'+b+"</li>")}),d.addClass("error")};return e.each(function(c,d){var e=a(d),h=a.validationSettings.$errorEl||a(d).closest("form");e.data("validation_rules",b),e.data("validation_callbacks",f),e.on("validate",function(){g(this)}),h.data("validation_errors")||h.data("validation_errors",{})}),e}}(jQuery),Meetup.UI.containsValidationErrors=function(a){var b=[];if(!a)throw new Error("containsValidationErrors requires a container Element to analyze");return $(a).find("input, select, textarea, #pickerDiv").each(function(a,c){var d=$(c),e=d.data();e.validation_errors&&e.validation_errors.length>0&&b.push(c.id)}),b.length>0},function(a){a.fn.clearValidation=function(){return this.each(function(b,c){var d=a(c),e=d.closest("form");d.data("validation_rules",null),d.data("validation_callbacks",null),Meetup.UI.FieldErrors[c.id]&&delete Meetup.UI.FieldErrors[c.id],e.data("validation_errors")&&e.data("validation_errors")[c.id]&&delete e.data("validation_errors")[c.id],d.removeData("validation_errors");var f=document.getElementById("errorList_"+c.id);f&&a(f).remove(),a(c).removeClass("error")}),this}}(jQuery),function(a){a.fn.inlineError=function(b){return this.each(function(){var c=this,d=a(this);$errorContainer=a("#errorList_"+d.attr("id")),$errorContainer.length<1?d.after('<ul id="errorList_'+d.attr("id")+'" class="inlineErrorMsgs"><li class="fieldError">'+b+"</li></ul>"):$errorContainer.append('<li class="fieldError">'+b+"</li>"),"undefined"==typeof Meetup.UI.FieldErrors[c.id]&&(Meetup.UI.FieldErrors[d.attr("id")]=[]),d.addClass("error"),Meetup.UI.FieldErrors[d.attr("id")].push(b)}),this}}(jQuery),function(a,b){Meetup.MustacheTemplates===a&&(Meetup.MustacheTemplates={}),Meetup.MustacheTemplates.mobile=b.extend(Meetup.MustacheTemplates.mobile||{},{touchlist:{select:'<li class="touchList-item touchList-item--select" id="event-where-state-liselect">\n	<label class="ffbox" for="event-where-state">\n		<div class="ffbox-flex">\n			<div class="touchList-item--select-wrapper">\n				<select id="event-where-state" name="state" tabindex="0">\n					{{#states}}\n						{{#state}}\n							<option value="{{code}}" {{#selected}}selected{{/selected}}>{{{name}}}</option>\n						{{/state}}\n					{{/states}}\n				</select>\n				<div class="touchList-item--select-mask">\n					<span class="touchList-item--select-mask-arrow">\n						<i class="icon-s icon-drop-down"></i>\n					</span>\n				</div>\n			</div>\n		</div>\n	</label>\n	<label id="venueNamee-add-state_vmsg" for="event-where-state" class="touchList-validationMessage">\n	</label>\n</li>\n'}})}(void 0,jQuery),Meetup.venueHelper=function(a){var b=0,c=5,d=!1,e=null,f=[],g=0,h={},i=null,j=null,k=!1,l="tabControl-tab--selected",m=function(a){d=a},n=function(){return d},o=function(a){j=d?MM.Chapter.country:Chapter.country,r(),s(),p(),function(){"undefined"!=typeof h[j]&&i&&k?a():setTimeout(arguments.callee,10)}()},p=function(h,i){if(g=h?h:b,f&&f[g])e=f[g],"function"==typeof i&&i(e);else{var j={method:"getRecentVenues",arg_member:d?MM.Member.id:Member.id,arg_chapter:d?MM.Chapter.id:Chapter.id,arg_index:g,arg_size:c},l=!1;a.ajax({dataType:"json",url:API_URL,data:j,success:function(b){if(b.length>0){b.length>c-1&&(l=!0,b.pop());var d={venues:a.map(b,function(a){Meetup.Cache.put("venues",a.venueId,a);var b=w(a),c=x(b.simple);return{id:a.venueId,name:a.name,address:b.full?b.full:b.simple,lat:a.lat,lon:a.lon,mapurl:c,trnSelect:Meetup.trn("common.select","Select")}}),hasmore:l||!l&&0!==g&&f.length>1,first:0===g,last:!l,trnPrevious:Meetup.trn("common.previous","Previous"),trnMore:Meetup.trn("common.more","More")};e=Handlebars.compile(Meetup.Templates.venue)(d),f[g]=e}else e=null;k=!0,"function"==typeof i&&i(e)}})}},q=function(b){b.preventDefault();var c=a(this),d=c.hasClass("next")?g+4:g-4,e=function(b){a("#recent").html(b)};p(d,e)},r=function(b,c){var d=b||j;if(j=d,"us"!=d&&"ca"!=d&&"it"!=d||"undefined"!=typeof h[d])"undefined"==typeof h[d]&&(h[d]=null),"function"==typeof c&&c();else{var e={co:d,json:1};a.ajax({dataType:"json",url:"/get-loc-data.jsp",data:e,success:function(a){h[d]=a.length>0?a:null,"function"==typeof c&&c()},fail:function(){alert("Sorry, there was a problem. Please try again.")}})}},s=function(){i||a.ajax({dataType:"html",url:"/shared/countryMenuOpts_inc.jsp",data:{select:j},success:function(a){i=a.length>0?a:null},fail:function(){alert("Sorry, there was a problem. Please try again.")}})},t=function(){var b=a(this),c=b.val();d?(a("#event-where-state").prop("disabled",!0),a("#event-where-state-liselect").hide()):a("#event-where-state").remove(),r(c,u)},u=function(){if(h[j]){var b={states:function(){return{state:a.map(h[j],function(a){return{code:a.code,name:a.name,selected:a.code==(d?MM.Chapter.state:Chapter.state)}})}}},c=Handlebars.compile(d?Meetup.MustacheTemplates.mobile.touchlist.select:Meetup.Templates.statemenu)(b);d?a("#event-where-state-liselect").replaceWith(c):a(c).insertBefore(a("#event-where-country"))}},v=function(b){b.preventDefault();var c=a(this),d=c.data("toggle"),e=a("#"+d);a("#venueTabs ."+l).removeClass(l),c.parent().addClass(l),e.hasClass("jsStartHidden")&&(e.siblings("div.venue-tab").addClass("jsStartHidden"),e.removeClass("jsStartHidden"))},w=function(a){var b={simple:escapeHTML((a.address1||a.address)+(a.city?", "+a.city:"")+(a.state?", "+a.state:"")),full:""};return a.address2||a.address3?(a.address2&&(b.full+=escapeHTML(a.address1)+"<br/><span>"+escapeHTML(a.address2)+"</span><br/>"),a.address3&&(b.full+="<span>"+escapeHTML(a.address3)+"</span><br/>"),a.city&&(b.full+=escapeHTML(a.city)),a.state&&(b.full+=", "+escapeHTML(a.state)),b):b},x=function(a){if(a){var b=encodeURIComponent(a);return"undefined"!=typeof Meetup.RTF&&Meetup.RTF.bing_map_links?"https://www.bing.com/maps/?where1="+b:"https://maps.google.com/maps?q="+b}},y=function(){return i},z=function(){return h},A=function(){return e};return{setState:t,updateStates:u,switchVenueTab:v,getRecentVenues:p,pageVenues:q,states:z,countries:y,venues:A,formatAddress:w,setIsMobile:m,getIsMobile:n,getMapAddressLink:x,init:o}}(jQuery),Meetup.EventCommon=function(a){var b=require("core/dateUtils"),c=Meetup.Data.defaultDuration,d=Meetup.Data.defaultDuration,e=Meetup.Data.maxDuration,f=Meetup.Data.linkColor,g=Meetup.Language,h=Meetup.Templates.lma.lma_when_end,i=Meetup.Copy.endHeaderHtml,j=Meetup.Copy.duration,k=Meetup.Copy.needDate,l=Meetup.Copy.endButNoStart,m=Meetup.Copy.inThePast,n=Meetup.Copy.endTimeInvalid,o=Meetup.Copy.durationOverflow,p=Meetup.Copy.week,q=Meetup.Copy.weeks,r=Meetup.Copy.day,s=Meetup.Copy.days,t=Meetup.Copy.hour,u=Meetup.Copy.hours,v=Meetup.Copy.minute,w=Meetup.Copy.minutes,x=function(a,b,c){var d=a.split("-"),e=b.split(":"),f=void 0===c,g=parseInt(d[0],10),h=parseInt(d[1],10)-1,i=parseInt(d[2],10),j=parseInt(e[0],10);f||(12==j&&"0"===c?j=0:12>j&&"1"==c&&(j+=12));var k=parseInt(e[1],10);return new Date(g,h,i,j,k,0,0)},y=function(){var b=z();0>=c&&B();var d=void 0===a("#event-when-ampm").val(),e=new Date(+b+60*c*1e3),f=parseInt(e.getHours(),10),g=f>=12?1:0;d||(0===f&&(f=12),f>12&&(f-=12));var h=parseInt(e.getMinutes(),10),i=""+f+":"+(10>h?"0"+h:h)+":00";a("#event-end-date-field").datepicker("setDate",new Date(e));var j=i;d||0!==j.indexOf("12:")||(j="0"+j.substring(2)),a("#event-end-when-time").val(j),d||a("#event-end-when-ampm").val(g),J()},z=function(){var b=a("#formattedDate").val();return void 0===b||""===b?null:x(b,a("#event-when-time").val(),a("#event-when-ampm").val())},A=function(){var b=a("#formattedEndDate").val();return void 0===b||""===b?null:x(b,a("#event-end-when-time").val(),a("#event-end-when-ampm").val())},B=function(){var a=z(),b=A(),e=0;a&&b?e=b-a:a&&(e=d),c=e/6e4,I()},C=["7","8","9","10","11","12","1","2","3","4","5","6"],D=["19","20","21","22","23","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"],E=["00","15","30","45"],F=function(a){var b,c,d=g&&g.indexOf("en")>-1?C:D,e=d.length,f=E.length,h=[],i=0,j=0;for(12==e&&0===a.indexOf("12:")&&(a="0"+a.substring(2)),i=0;e>i;i++){for(j=0;f>j;j++)c=d[i]+":"+E[j],b={option:12==e&&"12"==d[i]?"0:"+E[j]+":00":c+":00",formatted:"it_IT"===g?d[i]+"."+E[j]:c,selected:c===a},h.push(b);j=0}return h},G=function(c){c&&c.preventDefault(),a("#event-change-duration").hide(),a("#event-end-time-picker").empty().append(Handlebars.compile(h)({eventdateend:"",options:F("10:00"),isUS:function(){return g&&g.indexOf("en")>-1},ampm:!0,duration_text:d/60,headerHtml:i,linkColor:f,trnAt:Meetup.Copy["common.at"],trnRemoveEndTime:Meetup.Copy["group.event.removeEndTime"]})).show(),a("#event-end-date-field").each(function(){var c={minDate:new Date,altFormat:"yy-mm-dd",altField:"#formattedEndDate"},d=require("state").Language,e=b.getDatepickerDateFormat(d);
a.extend(c,{dateFormat:e}),a(this).datepicker(c).bind("focus",function(){a("#ui-datepicker-div").css("z-index","500")})}),z()&&y(),I(),a("#event-date-field").datepicker("option","onClose",y),a("#event-end-date-field").datepicker("option","onClose",B),a("#event-when-time, #event-when-ampm").bind("change",y),a("#event-end-when-time, #event-end-when-ampm").bind("change",B),a("#event-end-time-delete").on("click",H)},H=function(b){b&&b.preventDefault(),a("#formattedEndDate,#event_end_month,#event_end_year,#event_end_day").val(""),a("#event-change-duration").show(),a("#event-end-time-picker").hide()},I=function(){a("#duration-hours").html(j+" "+K()),J()},J=function(){if(0!==a("#event_end_month").length){var b=$get("formattedEndDate").value.split("-");a("#event_end_year").val(Number(b[0])),a("#event_end_month").val(Number(b[1])),a("#event_end_day").val(Number(b[2]))}},K=function(){if(0>=c)return"--";var a=c,b=Math.floor(a/10080);a%=10080;var d=Math.floor(a/1440);a%=1440;var e=Math.floor(a/60);a%=60;var f=a,g=", ",h="";return b>0&&(h+=(h.length>0?g:"")+b+" "+(1==b?p:q)),d>0&&(h+=(h.length>0?g:"")+d+" "+(1==d?r:s)),e>0&&(h+=(h.length>0?g:"")+e+" "+(1==e?t:u)),f>0&&(h+=(h.length>0?g:"")+f+" "+(1==f?v:w)),h},L=function(a){var b=z(),d=A(),f=new Date(Chapter.localTime);return null===b?a?k:d?l:!1:f>b?m:d&&b>=d?n:c>e?o:!1};return{eventChangeDurationHandler:G,getStartDateFromDom:z,getEndDateFromDom:A,getDuration:c,validateReqDate:function(){return L(1)},validate:function(){return L(0)}}}(jQuery),Meetup.LMA=function(a){var b=require("core/dateUtils"),c=null,d=null,e=null,f=Meetup.UI.ValidatorRules,g=Meetup.Copy,h=["7","8","9","10","11","12","1","2","3","4","5","6"],i=["19","20","21","22","23","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"],j=["00","15","30","45"],k=Meetup.Templates.lma,l=!1,m=!1,n=null,o=!1,p=a(".lmaActionsContainer"),q=function(){return o?!1:(Meetup.UI.FieldErrors={},a("#title").trigger("validate"),a("#descr_why").trigger("validate"),a("#lma_when").trigger("validate"),0!==a("#descr").length&&a("#descr").trigger("validate"),D(a("#event-where-field"))&&D(a("#event-where-address"))||a("#venueId").trigger("validate"),!l&&a.isEmptyObject(Meetup.UI.FieldErrors)?(o=!0,!0):!1)},r=function(){a("#title").bindValidation([{rule:f.notEmpty},{rule:f.isMaxLength,param:80}]).addClass("validate"),a("#descr_why").bindValidation([{rule:f.isMaxLength,param:250}]).addClass("validate"),a("#lma_when").bindValidation([{rule:Meetup.EventCommon.validate}]).addClass("validate")},s=function(b){a("#errorList_"+b).remove(),a("#"+b).removeClass("error")},t=function(){l=!0},u=function(){l=!1},v=function(b){b.preventDefault();var c=a(this).attr("data-elm"),d=a("#"+c);d.replaceWith(k[c].current),k[c].current=null,s(c),l=!1},w=function(a){function b(){d.removeClass("cancel_"+f),d.addClass("plus_"+f),d.text(g.suggestAMeetup),d.unbind("click"),d.click(x)}function c(){d.removeClass("plus_"+f),d.addClass("cancel_"+f),d.text(g.cancelLMA),d.unbind("click"),d.click(y)}var d=e,f=Meetup.Data.ghIconColor;switch(a){case"suggest":b();break;case"cancel":c();break;default:b()}},x=function(b){function c(){f.addClass("selected"),a("#lma-form").trigger("ready"),w("cancel"),a("#lma").addClass("open"),m=!0}if(b){var e=a(b.target);if(e.hasClass("for-suggest"))return!0;b.preventDefault()}if(m)d.trigger("focus");else{var f=a("#lma li.selected").removeClass("selected");p.removeClass("display--none"),a.browser.msie&&parseInt(a.browser.version,10)<8?(a("#lma-form").removeClass("jsStartHidden").show(),c()):a("#lma-form").hide().removeClass("jsStartHidden").slideDown(function(){c()})}},y=function(b){function c(){p.addClass("display--none"),d.addClass("selected"),a("#lma-form").addClass("jsStartHidden"),a("#lma-form input[type=text], #lma-form textarea").val("").blur(),a("#lma-form .limit").addClass("jsStartHidden"),Meetup.UI.FieldErrors={},w("suggest"),a("#lma").removeClass("open"),l=!1,m=!1}if(b&&b.preventDefault(),m){s("title"),s("descr_why"),s("lma_when"),k.lma_when.current&&a("#lma_when").replaceWith(k.lma_when.current),k.lma_where.current&&(s("venueId"),a("#lma_where").replaceWith(k.lma_where.current)),k.lma_descr.current&&(s("descr"),a("#lma_descr").replaceWith(k.lma_descr.current));var d=a("#lma li.selected").removeClass("selected");a.browser.msie&&parseInt(a.browser.version,10)<8?(a("#lma-form").hide(),c()):a("#lma-form").slideUp(function(){c()})}},z=function(){c.bind("lma_when",A).bind("lma_where",B).bind("lma_descr",E)},A=function(c){var d=c.type,e=a("#"+d),f={eventdate:"",options:H(),durationText:Meetup.Copy.durationText,isUS:function(){return Meetup.Language&&Meetup.Language.indexOf("en")>-1},ampm:!0,label:'<p class="lma-question edit">'+Meetup.trn("common.when","When")+":</p>",headerHtml:'<p class="lma-question edit">'+Meetup.trn("group.event.ends","Ends")+":</p>",endTimeRuntimeFlag:Meetup.Data.endTimeRuntimeFlag,linkColor:Meetup.Data.linkColor,trnSetEndTime:Meetup.Copy["group.event.setEndTime"],trnAt:Meetup.Copy["common.at"]},g=Handlebars.compile(k[d].edit)(f);k[d].current=e.clone(),e.html(g).find(".lma-anim-inputs").hide().fadeIn();var h={minDate:new Date,altFormat:"yy-mm-dd",altField:"#formattedDate"},i=require("state").Language,j=b.getDatepickerDateFormat(i);a.extend(h,{dateFormat:j}),a("#event-date-field").datepicker(h).bind("focus",function(){a("#ui-datepicker-div").css("z-index","500")}),a("#event-change-duration").click(Meetup.EventCommon.eventChangeDurationHandler)},B=function(a){var b=a.type;l=!1,Meetup.venueHelper.init(C.curry(b))},C=function(b){function c(){return 0===a("#event-where-field").length?(u(),!1):D("#event-where-field")||D("#event-where-address")||D("#event-where-city")?a("#venueId").val()>0?(u(),!1):(t(),D("#event-where-field")?"A name is required":D("#event-where-address")?"An address is required":"A city is required"):(h.setUserVenue(),t(),!1)}function d(c){if(c.id>0){n=c;var d=c.name,f=c.desc,g=c.id,h=Meetup.venueHelper.getMapAddressLink(n.mapAddress),i={trnCancel:Meetup.trn("common.cancel","Cancel"),trnWhere:Meetup.trn("common.whereEvent","Where"),venuename:"new"==c.from?escapeHTML(d):d,venueaddress:"new"==c.from?escapeHTML(f):f,trnCurrentPlacePrompt:Meetup.trn("group.event.currentPlacePrompt","Current place:"),trnRecentPlaces:Meetup.trn("group.event.recentPlaces","Recent Places"),trnFindAPlace:Meetup.trn("group.event.findAPlace","Find a Place"),trnWhereExample:Meetup.trn("group.event.whereExample","Ex. Joe's Pizzeria"),trnAddress:Meetup.trn("common.address","Address"),trnChange:Meetup.trn("common.change","Change"),mapurl:h,venueid:g};e.html(Handlebars.compile(k[b].display)(i)),delete Meetup.UI.FieldErrors.venueId,l=!1,"new"==c.from&&setTimeout(function(){a("#lmaform").submit()},100)}else if(0===a("#errorList_addy").length){var j=a('<ul id="errorList_addy" class="inlineErrorMsgs" style="width: auto" ><li class="inlineErrorMsg">We couldn\'t  find your location. Please double check the address.</li></ul>');j.insertBefore(a("#venueId"))}}var e=a("#"+b),f={trnCancel:Meetup.trn("common.cancel","Cancel"),trnWhere:Meetup.trn("common.whereEvent","Where"),venues:Meetup.venueHelper.venues,venuename:n?n.name:null,venueaddress:n?n.desc:null,venueid:n?n.id:0,city:Chapter.city,countries:Meetup.venueHelper.countries,trnPrivateRes:Meetup.Copy.trnPrivateRes||"This location is a private residence.",trnCurrentPlacePrompt:Meetup.trn("group.event.currentPlacePrompt","Current place:"),trnRecentPlaces:Meetup.trn("group.event.recentPlaces","Recent Places"),trnFindAPlace:Meetup.trn("group.event.findAPlace","Find a Place"),trnWhereExample:Meetup.trn("group.event.whereExample","Ex. Joe's Pizzeria"),trnAddress:Meetup.trn("common.address","Address"),trnChange:Meetup.trn("common.change","Change")},g=Handlebars.compile(k[b].edit)(f);k[b].current=e.clone(),e.html(g).find(".lma-question").nextAll().hide().fadeIn(),Meetup.venueHelper.updateStates(),a.plugin("venuePicker",venuePicker),a("#event-where-field").venuePicker({callback:d}),e.find("input.textInputTip").TextInputTip({dontStop:!0});var h=a("#event-where-field").data("venuePicker");a("#venueId").bindValidation([{rule:c}]).addClass("validate")},D=function(b){var c=a(b);return 0==c.length?!1:""===a.trim(c.val())||c.val()==c.attr("title")},E=function(b){var c=b.type,d=a("#"+c),e={},g=Handlebars.compile(k[c].edit)(e);k[c].current=d.clone(),d.html(g).find("#descr").bindValidation([{rule:f.isMaxLength,param:5e4}]).addClass("validate").CharCounter({dontStop:!0})},F=function(a){c.trigger(a)},G=function(b){b.preventDefault();var c=this,d=a(c),e=d.attr("data-elm");F(e)},H=function(a){var b,c=Meetup.Language&&Meetup.Language.indexOf("en")>-1?h:i,d=c.length,e=j.length,f=[],g=0,k=0;for(g=0;d>g;g++){var l=c[g];for(12==l&&Meetup.Language&&Meetup.Language.indexOf("en")>-1&&(l=0),k=0;e>k;k++)b={option:l+":"+j[k]+":00",formatted:c[g]+("it_IT"===Meetup.Language?".":":")+j[k],selected:a===l+":"+j[k]},f.push(b);k=0}return f},I=function(){c=a("#lmaform"),d=a("#title"),e=a("#lma-suggest"),a("#lmaform .textInputTip").TextInputTip({dontStop:!0}),w("suggest"),a("#lma-cancel").click(y),c.delegate(".cancel-field","click",v).delegate(".propose","click",G).delegate("a.venue-toggle","click",Meetup.venueHelper.switchVenueTab).delegate("a.page-venues","click",Meetup.venueHelper.pageVenues).delegate("#event-where-country","change",Meetup.venueHelper.setState),a("form#lmaform").bind("submit",q),a("#event-date-field").length>0&&a("#event-date-field").datepicker({minDate:new Date,altFormat:"yy-mm-dd",altField:"#formattedDate"}).bind("focus",function(){a("#ui-datepicker-div").css("z-index","500")}),z(),r(),a("#events-list-module").on("click",".v4-open-lma",function(a){a.preventDefault(),x(a)}),a("#lma").dialogPopup(),Meetup.Data.openLMA&&x()};return{show:function(){x()},hide:function(){y()},init:I}}(jQuery),function(a){if(!(Meetup.Data.LayoutVersion<4)&&$get("v4-feedback-dialog")){var b=a("#v4-feedback-dialog"),c=!1,d=function(){c=!0},e=function(a){a.preventDefault(),c||d(),b.dialog("open")};b.dialog({autoOpen:!1,modal:!0,position:"center",closeText:"x",draggable:!1,minHeight:280,maxHeight:650,resizable:!1,width:650,closeOnEscape:!0}),a(document).delegate(".feedbackdialog","click",e)}}(jQuery),function(a){if($get("v4-interstitial-dialog")){var b=478,c=294,d=a("#v4-interstitial-dialog");d.dialog({autoOpen:!1,modal:!0,position:"center",closeText:"x",draggable:!1,minHeight:400,maxHeight:650,resizable:!1,width:742,closeOnEscape:!0}),d.bind("open",function(){}),Meetup.SkullInterstitial={open:function(){d.dialog("open");var e=a("#iframe_placeholder"),f=e.data("src"),g=a('<iframe width="'+b+'" height="'+c+'" src="'+f+'" frameborder="0" allowfullscreen></iframe>');g.appendTo(e),e.css("background","none"),g.css("visibility","visible")},close:function(){d.dialog("close")}},a(".dismiss",d).bind("click",function(a){a.preventDefault(),Meetup.SkullInterstitial.close()})}}(jQuery),function(a){var b=a(window);a.fn.lazyImg=function(d){var e=!1,f=this,g=[],h=!1,d=a.extend({threshold:100,effect:"show",effectspeed:0,scrollElm:b,throttleQueue:null},d||{}),i=function(){if(0===g.length)return void(h=!1);h=!0;var b=g.splice(0,d.throttleQueue),c=b[b.length-1];c.bind("LoadComplete",i),a.each(b,function(){this&&a(this).trigger("appear")})},j=function(){f.each(function(){var b=a(this);c(b,d)||(d.throttleQueue&&!b.data("queued")?(g.push(b),b.data("queued",!0)):b.trigger("appear"))}),!h&&d.throttleQueue&&i()},k=null;d.scrollElm.bind("scroll",function(){e=!0,k&&clearTimeout(k),k=setTimeout(function(){k=null,e=!1},333)}),setInterval(function(){e&&(e=!1,j())},400);var l=[],m=8,n=0,o=null,p=13,q=647,r=function(a){return"function"!=typeof a?!1:(l[l.length]=a,void s())},s=function(){o&&(clearTimeout(o),o=null),l.length>0&&m>n&&(t(),setTimeout(s,p))},t=function(){++n,l.splice(0,1)[0]()},u=function(){n>0&&--n,o=setTimeout(s,q)},v=function(b){var c=a(b),e=c.data("src"),g=function(){a("<img />").bind("load",function(){d.background?c.hide().css("background-image",["url(",e,")"].join(""))[d.effect](d.effectspeed):c.hide().attr("src",e)[d.effect](d.effectspeed),c.data("loaded",!0),c.removeAttr("data-src"),a.grep(f,function(b){return!a(b).data("loaded")}),c.trigger("LoadComplete"),u()}).attr("src",e)};return function(){r(g)}};return f.each(function(){var b=a(this);b.data("loaded")||(b.one("appear",v(this)),c(b,d)?b.data("loaded",!1):b.trigger("appear"))})};var c=function(a,b){var c=b.scrollElm.scrollTop()+b.scrollElm.height(),d=a.offset().top;return d>=c+b.threshold||!1}}(jQuery),jQuery.fn.AjaxProgress=function(){return this.each(function(){var a="/img/ajax_loader_trans.gif",b="onajaxsubmit",c="onajaxsuccess",d=$('<div class="interstitialblock please-wait" />'),e=$('<div class="D_centeredAjaxSpinner please-wait"><img src="'+a+'" /> </div>'),f=null,g=function(a){f=$(a),f.bind(b,h),f.bind(c,i)},h=function(a,b){a.stopPropagation();var c=!!b;f.addClass("loadingAjax"),d.appendTo(f).css({height:f.outerHeight(),width:f.outerWidth()}).position({of:f,at:"center center",my:"center center",offset:"",collision:"none"}),c||e.appendTo(f).position({of:f,at:"center top",my:"center top",offset:"0 25",collision:"none"})},i=function(a){a.stopPropagation(),f.removeClass("loadingAjax"),d.remove(),e.remove()};g(this)})},"object"!=typeof Meetup.Copy&&(Meetup.Copy={}),Meetup.i18N=function(){var a=[];a.en_US={dateStyle:{shortDate:"m/d/y",mediumDate:"M D, Y",longDate:"M D, Y",fullDate:"E, M D, Y",noYearDate:"M D"},timeStyle:{shortTime:"h:mm T",mediumTime:"h:mm:ss T"},commaStr:",",decimalStr:".",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:0},a.th_TH={dateStyle:{shortDate:"d/M/yy",mediumDate:"d MMM y",longDate:"d MMMM G y",fullDate:"EEEEที่ d MMMM G y",noYearDate:"d/M"},timeStyle:{shortTime:"HH:mm",mediumTime:"HH:mm:ss"},commaStr:",",decimalStr:".",monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dayNames:["วันอาทิตย์	","วันจันทร์","วันอังคาร","วันพุธ","วันพฤหัสบดี","วันศุกร์","วันเสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],firstDay:0},a.tr_TR={dateStyle:{shortDate:"d.MM.y",mediumDate:"d MMM y",longDate:"d MMMM y",fullDate:"d MMMM y EEEE",noYearDate:"d MMM"},timeStyle:{shortTime:"HH:mm",mediumTime:"HH:mm:ss"},commaStr:",",decimalStr:",",monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],firstDay:1},a.pl_PL={dateStyle:{shortDate:"y-MM-dd",mediumDate:"y MMM d",longDate:"y MMMM d",fullDate:"y MMMM d, EEEE",noYearDate:"D.M"},timeStyle:{shortTime:"HH:mm",mediumTime:"HH:mm:ss"},commaStr:",",decimalStr:",",monthNames:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],dayNames:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],dayNamesShort:["niedz.","pon.","wt.","śr.","czw.","pt.","sob."],firstDay:1},a.en_AU={dateStyle:{shortDate:"d/m/y",mediumDate:"D M Y",longDate:"D M Y",fullDate:"E, M D Y",noYearDate:"D M"},timeStyle:{shortTime:"h:mm T",mediumTime:"h:mm:ss T"},commaStr:",",decimalStr:".",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:0},a.it_IT={dateStyle:{shortDate:"d/m/y",mediumDate:"D-M-Y",longDate:"D M Y",fullDate:"E D M Y",noYearDate:"D M"},timeStyle:{shortTime:"H.mm",mediumTime:"H.mm.ss"},commaStr:".",decimalStr:",",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do.","lun.","mar.","mer.","gio.","ven.","sab."],firstDay:1},a.de_DE={dateStyle:{shortDate:"d.m.y",mediumDate:"d.m.Y",longDate:"D. M Y",fullDate:"E, D. M Y",noYearDate:"D. M"},timeStyle:{shortTime:"HH:mm",mediumTime:"HH:mm:ss"},commaStr:".",decimalStr:",",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],firstDay:1},a.es_ES={dateStyle:{shortDate:"D/m/y",mediumDate:"d-M-Y",longDate:"D #de# M #de# Y",fullDate:"E D #de# M #de# Y",noYearDate:"D #de# M"},timeStyle:{shortTime:"H:mm",mediumTime:"H:mm:ss"},commaStr:".",decimalStr:",",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],firstDay:0},a.es={dateStyle:{shortDate:"D/m/y",mediumDate:"d-M-Y",longDate:"D #de# M #de# Y",fullDate:"E D #de# M #de# Y",noYearDate:"D #de# M"},timeStyle:{shortTime:"H:mm",mediumTime:"H:mm:ss"},commaStr:".",decimalStr:",",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],firstDay:0},a.fr_FR={dateStyle:{shortDate:"d/m/y",mediumDate:"D M Y",longDate:"D M Y",fullDate:"E D M Y",noYearDate:"D M"},timeStyle:{shortTime:"HH:mm",mediumTime:"HH:mm:ss"},commaStr:".",decimalStr:",",monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],firstDay:1},a.pt_BR={dateStyle:{shortDate:"d-m-Y",mediumDate:"D/M/Y",longDate:"D #de# M #de# Y",fullDate:"E, D #de# M #de# Y",noYearDate:"D #de# M"},timeStyle:{shortTime:"H:mm",mediumTime:"H:mm:ss"},commaStr:".",decimalStr:",",monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["dom.","seg.","ter.","qua.","qui.","sex.","sab."],firstDay:0},a.nl_NL={dateStyle:{shortDate:"d-M-Y",mediumDate:"d M y",longDate:"d M y",fullDate:"E d M y",noYearDate:"d M"},timeStyle:{shortTime:"HH:mm",mediumTime:"HH:mm:ss"},commaStr:".",decimalStr:",",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],firstDay:1},a.ko_KR={dateStyle:{shortDate:"y. M. d.",mediumDate:"y. M. d.",longDate:"y년 M월 d일",fullDate:"y년 M월 d일 E",noYearDate:"M월 d일"},timeStyle:{shortTime:"hh:mm A",mediumTime:"h:mm:ss T"},commaStr:".",decimalStr:",",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],firstDay:1},a.ja_JP={dateStyle:{shortDate:"y/m/d",mediumDate:"Y年MD日",longDate:"Y年MD日",fullDate:"Y年MD日E",noYearDate:"MD日"},timeStyle:{shortTime:"H:mm",mediumTime:"H:mm:ss"},commaStr:",",decimalStr:".",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],firstDay:0};var b={en_US:{shortDate:"m/d/y",mediumDate:"mm dd, yy",longDate:"mm dd, yy",noYearDate:"mm dd"},it_IT:{shortDate:"dd/mm/y",mediumDate:"dd-mm-yy",longDate:"dd mm yy",noYearDate:"dd mm"},de_DE:{shortDate:"dd.mm.y",mediumDate:"d.m.yy",longDate:"dd. mm yy",noYearDate:"dd. mm"},es_ES:{shortDate:"d/mm/y",mediumDate:"d-mm-yy",longDate:"dd mm yy",noYearDate:"dd mm"},es:{shortDate:"d/mm/y",mediumDate:"d-mm-yy",longDate:"dd mm yy",noYearDate:"dd mm"},fr_FR:{shortDate:"dd/mm/y",mediumDate:"dd mm yy",longDate:"dd mm yy",noYearDate:"dd mm"},pt_BR:{shortDate:"dd-mm-yy",mediumDate:"dd/mm/yy",longDate:"dd mm yy",noYearDate:"dd mm"},nl_NL:{shortDate:"DD-MM-YYYY",mediumDate:"DD MMM YYYY",longDate:"dddd d MMM YYYY",noYearDate:"DD MMM"},ko_KR:{shortDate:"DD-MM-YYYY",mediumDate:"DD MMM YYYY",longDate:"dddd d MMM YYYY",noYearDate:"DD MMM"},ja_JP:{shortDate:"y/m/d",mediumDate:"yyyy年mm月dd日",longDate:"yyyy年mm月dd日",noYearDate:"mm月dd日"}},c=function(a){return 10>a?"0"+a:a};return{jqDateFormat:b,convertCurrency:function(b){for(var c=parseFloat(b).toFixed(2),d=new RegExp("(-?[0-9]+)(.)([0-9]{2})"),e=new RegExp("(-?[0-9]+)([0-9]{3})"),f=c.replace(d,"$1"),g=c.replace(d,"$3");e.test(f);){var h=a[Meetup.Language].commaStr;f=f.replace(e,"$1"+h+"$2")}var i=a[Meetup.Language].decimalStr;return f+i+g},formatNumber:function(b){var c=a[Meetup.Language].decimalStr,d=a[Meetup.Language].commaStr;nStr=b.toString(),x=nStr.split("."),x1=x[0],x2=x.length>1?c+x[1]:"";for(var e=/(\d+)(\d{3})/;e.test(x1);)x1=x1.replace(e,"$1"+d+"$2");return x1+x2},toFloat:function(b){var c=a[Meetup.Language].commaStr;return b.replace(c,"")},parseFloat:function(b){var c=a[Meetup.Language].decimalStr;return b=this.toFloat(b),b=b.replace(/^s+|\s+$/g,""),b.match(/^-?\d*\.?\d*$/)?parseFloat(b):b.match(/^-?\d*,?\d*$/)?(b=b.replace(c,"."),parseFloat(b)):0},formatDate:function(b,d,e){for(var f=d+"Date",g=a[Meetup.Language].dateStyle[f],h="",i=e||d,j=0;j<g.length;j++)switch(g.charAt(j)){case"#":for(j++;"#"!=g.charAt(j);)h+=g.charAt(j),j++;break;case"d":h+=c(b.getDate());break;case"D":h+=b.getDate();break;case"m":h+=c(b.getMonth()+1);break;case"M":h+=this.getMonthName(b.getMonth(),i);break;case"y":h+=c(b.getYear()%100);break;case"Y":h+=b.getFullYear();break;case"E":h+=this.getDayName(b.getDay());break;default:h+=g.charAt(j)}return h},formatTime:function(b,d){for(var e=d+"Time",f=a[Meetup.Language].timeStyle[e],g="",h=null,i=f.length,j=0;i>j;j++)switch(h=f.charAt(j),h===f.charAt(j+1)&&(h+=f.charAt(j+1),j++),h){case"H":g+=b.getHours();break;case"HH":g+=c(b.getHours());break;case"h":g+=b.getHours()%12||12;break;case"hh":g+=c(b.getHours()%12||12);break;case"m":g+=b.getMinutes();break;case"mm":g+=c(b.getMinutes());break;case"s":g+=b.getSeconds();break;case"ss":g+=c(b.getSeconds());break;case"T":g+=b.getHours()>11?"PM":"AM";break;default:g+=f.charAt(j)}return g},convertDateShort:function(a,b,c){var d=null;return d="en_US"==Meetup.Language?a+" "+b+", "+c:b+"-"+a+"-"+c},getMonthNames:function(b){return"full"==b||"long"==b?a[Meetup.Language].monthNames:"short"==b||"medium"==b?a[Meetup.Language].monthNamesShort:null},getMonthName:function(b,c){return"full"==c||"long"==c?a[Meetup.Language].monthNames[b]:"short"==c||"medium"==c?a[Meetup.Language].monthNamesShort[b]:null},getDayNames:function(b){return"full"==b||"long"==b?a[Meetup.Language].dayNames:"short"==b||"medium"==b?a[Meetup.Language].dayNamesShort:null},getDayName:function(b){return a[Meetup.Language].dayNames[b]},getFirstDayOfWeek:function(){return a[Meetup.Language].firstDay}}}(),namespace("Bing"),Meetup.Bing.apiLoaded=!1,Meetup.Bing.mapControlUrl="//ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0&onscriptload=BingMapsControlLoaded"+("https:"===window.location.protocol?"&s=1":""),Meetup.Bing.apiKey=IS_DEV?"Ak1tdMo_7Su65Wm2i4Rx4RjgGfaDwiGotOaF77hAAooAx2TyzdBnEiWfVe0cuVd9":"AoLC0CcBNp0FuPixstanqEKePaROq9BLcLBWkdr2OUnHqzEkJqaXqPjatCs8Ze7o",Meetup.Bing.LocalBusinessSearch=function(a,b){function c(c){Meetup.Bing.apiLoaded||b.include(Meetup.Bing.mapControlUrl);var g=this;this.options=a.extend({},d,c),function(){Meetup.Bing.apiLoaded?g.init():e>f&&(f++,setTimeout(arguments.callee,50))}()}var d={mapCenter:{lat:Chapter.lat,lon:Chapter.lon},mapZoom:5,localSearchCount:8},e=20,f=0;return c.prototype={init:function(){var a=this;this.map=new Microsoft.Maps.Map(document.createElement("div"),{credentials:Meetup.Bing.apiKey,center:new Microsoft.Maps.Location(a.options.mapCenter.lat,a.options.mapCenter.lon),zoom:a.options.mapZoom,disableKeyboardInput:!0}),Microsoft.Maps.loadModule("Microsoft.Maps.Search",{callback:function(){a.searchManager=new Microsoft.Maps.Search.SearchManager(a.map)}})},search:function(b,c){this.searchManager.search({query:b,count:this.options.localSearchCount,callback:c,errorCallback:a.noop})}},c}(jQuery,Meetup.Script);var venuePicker={defaults:{},vp:null,dontSearchGoogle:"us"!=Chapter.country,attempts:0,from:"meetup",autocompleteOptions:null,formOpen:!1,init:function(a,b){var c=this;return this.element=$(b),this.defaults=$.extend({},this.defaults,a),this._autocompleteSetOptions(),this.vp=$(this.element).autocomplete(this.autocompleteOptions),this.vp.data("autocomplete")._renderItem=this._renderItem,this.vp.data("autocomplete")._renderMenu=this._renderMenu,$("#recent").delegate("a.add-venue","click",function(a){a.preventDefault();var b=$(this),d=Meetup.Cache.get("venues",b.data("id")),e=Meetup.venueHelper.formatAddress(d);c._setVenue({id:d.venueId,label:d.name,desc:e.full?e.full:e.simple,mapAddress:e.simple,lat:d.lat,lon:d.lon})}),this.binglocalsearch=new Meetup.Bing.LocalBusinessSearch,this.googleService=require("shared/googlePlaces"),this},_renderItem:function(a,b){return $('<li class="D_less'+(b.id<0?" suggest_more":"")+'"></li>').data("item.autocomplete",b).append("<a href='#'>"+b.label+(b.desc?"<br/><span class='D_less'>"+b.desc+"</span>":"")+"</a>").appendTo(a)},_renderMenu:function(a,b){var c=this,d="",e=[];a.css({"z-index":4501}),$.each(b,function(b,f){f.prevUsed&&e.push(f),e.length>0&&"undefined"!=typeof f.prevUsed&&f.prevUsed!=d&&(a.append("<li class='venue-cat'>"+(f.prevUsed?Meetup.trn("venue.placesYouveUsed","Places you've used"):Meetup.trn("venue.otherPlaces","Other Places"))+"</li>"),d=f.prevUsed),c._renderItem(a,f)})},_autocompleteSetOptions:function(){this.autocompleteOptions={minLength:2,delay:300,focus:function(){return!1},source:this.searchMeetup.curry(this),select:this._selectVenue.curry(this),search:function(){var a=$(this);a.addClass("search-waiting")},open:function(){var a=$(this);a.removeClass("search-waiting")}}},_selectVenue:function(a,b,c){var d=c.item.id,e=a,f=$(this);return-1==d?(f.autocomplete("close"),f.autocomplete("option","source",e.localSearch.curry(e)),f.autocomplete("search",f.val())):0===d?c.item.place_id&&a.googleService?a.googleService.getPlaceDetails(c.item.place_id,a.onDetailsResult.bind(a)):a._saveVenueToDB(c.item):e._setVenue(c.item),!1},onDetailsResult:function(a){var b=this.formatGooglePlaceDetails(a);this._saveVenueToDB(b)},formatGooglePlaceDetails:function(a){for(var b={streetNumber:"",streetName:"",address:"",city:"",state:"",country:"",zip:""},c={street_number:{format:"short_name",venueAddressKey:"streetNumber"},route:{format:"long_name",venueAddressKey:"streetName"},locality:{format:"long_name",venueAddressKey:"city"},administrative_area_level_1:{format:"short_name",venueAddressKey:"state"},country:{format:"short_name",venueAddressKey:"country"},postal_code:{format:"short_name",venueAddressKey:"zip"}},d=0;d<a.address_components.length;d++){var e=a.address_components[d].types[0];if(c[e]){var f=a.address_components[d][c[e].format];b[c[e].venueAddressKey]=f}}return{label:a.name,cid:a.url||"",lat:a.geometry.location.lat()||"",lon:a.geometry.location.lng()||"",address:b.streetNumber+" "+b.streetName,city:b.city,state:b.state,country:b.country,zip:b.zip||""}},searchMeetup:function(a,b,c){var d=a,e=this.element,f=($(this),e.data("isddress")),g={method:"venueAutosuggest",arg_member:memberId,arg_name:f?d.element.val():b.term,arg_address:f?b.term:"",arg_chapter:chapterId};d.from="meetup",$.ajax({dataType:"json",url:API_URL,data:g,success:function(a){if(a.length>=1&&"__not_ready"!=a[0].name){var b=[{label:"Find more results",value:"Find more results",id:d.dontSearchGoogle?-2:-1}],g=$.map(a,function(a){a.address1=a.address;var b=escapeHTML(a.name),c=Meetup.venueHelper.formatAddress(a);return{label:b,desc:c.full?c.full:c.simple,mapAddress:c.simple,value:b,id:a.venueId,lat:a.lat,lon:a.lon,prevUsed:a.prevUsed}});c(d.dontSearchGoogle||f?g:$.merge(g,b))}else 0===a.length||d.attempts>3?($(e).removeClass("search-waiting"),d.attempts=0,d.dontSearchGoogle||f||($(e).autocomplete("close"),$(e).autocomplete("option","source",d.localSearch.curry(d)),$(e).autocomplete("search",c.term))):setTimeout(function(){d.attempts++,$(e).autocomplete("close"),$(e).autocomplete("search",c.term)},2e4)},fail:function(){alert("Sorry, there was a problem. Please try again.")}})},localSearch:function(a,b,c){"undefined"!=typeof Meetup.RTF&&Meetup.RTF.geocode_using_bing?a.localSearchBing(a,b,c):a.localSearchGoogle(a,b,c)},localSearchBing:function(a,b,c){var d=a.element;a.binglocalsearch.search(b.term,function(b){if(b.searchResults.length>0){var e=$.map(b.searchResults,function(a){var b=Meetup.venueHelper.formatAddress(a);return{label:a.name,desc:b.full||b.simple,value:a.address,address:a.address,city:a.city,state:a.state,country:a.country,zip:a.postalCode,id:0,lat:a.location.latitude,lon:a.location.longitude,cid:""}});c(e)}else $(d).removeClass("search-waiting");d.autocomplete("option","source",a.searchMeetup.curry(a))})},localSearchGoogle:function(a,b,c){var d=($(this),this.element),e=a,f=("us"===Chapter.country||"uk"===Chapter.country?Chapter.zip:Chapter.city+" "+Chapter.state,function(a){if(a.length>0){var b=$.map(a,function(a){return a.permanently_closed?null:{label:a.name,desc:a.vicinity,value:a.titleNoFormatting,cid:a.url,id:0,place_id:a.place_id}});c(b)}else $(d).removeClass("search-waiting");d.autocomplete("option","source",e.searchMeetup.curry(e))});e.from="local",e.googleService.loadPlaces().then(function(){e.googleService.getNearbyPlaces(b.term,Chapter.lat,Chapter.lon,f)})},getVenue:function(){return this.venue},_setVenue:function(a){this.venue={id:a.id,name:a.label,desc:a.desc,mapAddress:""!=a.mapAddress?a.mapAddress:"",lat:a.lat,lon:a.lon,from:this.from},this.defaults.callback(this.getVenue()),this.defaults.dontDestroy||this.destroy()},_saveVenueToDB:function(a){function b(a){var b=Meetup.venueHelper.formatAddress(a),a={label:a.name,desc:b.full||b.simple,mapAddress:b.simple,id:a.venueId,lat:a.lat,lon:a.lon};c._setVenue(a)}var c=this,d={method:"createVenueWithFullAddress",arg_chapter:chapterId,arg_member:memberId,arg_name:a.label,arg_address:a.address,arg_city:a.city,arg_state:a.state,arg_country:a.country,arg_zip:a.zip||"",arg_lat:a.lat||"",arg_lon:a.lon||"",arg_sourceId:a.cid||"",arg_isPublic:$("#event-where-private").length>0&&$("#event-where-private").is(":checked")?!1:!0};
Meetup.RemoteApi.post({data:d,success:b,fail:$.noop})},_getLocations:function(a,b){var c={arg_offset:0,arg_token:a.term,arg_language:Meetup.Language,method:"getLocationMatches",arg_lat:Chapter.lat,arg_lon:Chapter.lon};$.ajax({url:API_URL,dataType:"json",data:c,success:function(a){b($.map(a,function(a){return{label:a.name,value:a.name,id:a.id}}))}})},setUserVenue:function(){var a={label:$(this.element).val(),address:$("#event-where-address").val(),city:$("#event-where-city").val(),state:$("#event-where-state").length>0?$("#event-where-state").val():"",country:$("#event-where-country").val(),lat:"0",lon:"0",fullcountry:$("#event-where-country option:selected").text()};this.from="new",this._saveVenueToDB(a)},destroy:function(){$(this.element).autocomplete("destroy"),$("#event-where-address").autocomplete("destroy"),$("#recent").undelegate("a.add-venue","click")},_insertScript:function(a){var b=document.createElement("SCRIPT"),c=document.getElementsByTagName("head")[0];b.setAttribute("type","text/javascript"),b.setAttribute("src",a),c.appendChild(b)}};!function(a){a.fn.cancelEvent=function(b){var c={dispatch:!0,className:"delete-event"},d=a(this),e=0,f=!1,g=null,h=null,i=null,j=require("core/trn"),k=j("common.meetupSeries","Meetup Series");a("#cancel-dialog, #cancel-delete-dialog, #cancel-auto-dialog").remove();var l=Handlebars.compile(['<div class="D_dialog" id="cancel-dialog">','<p class="center-text bold" id="cancel-headline">{{{copy.cancelConfirm}}}</p>','<p class="center-text" id="cancel-explanation">{{{copy.cancelExplanation}}}</p>','<p class="center-text"><input type="checkbox" class="inline" value="1" id="delete-meetup" />{{{copy.deleteFromCalendar}}}</p>','<div class="footElement">','<p><input type="submit" name="delete" value="{{{copy.cancelThisMeetup}}}" class="button primary" id="cancel-meetup" /></p>','<a href="#" id="cancelMeetupDelete">{{{copy.neverMind}}}</a>',"</div>","</div>"].join("")),m=a(l({copy:{neverMind:j("common.neverMind","Never mind"),cancelThisMeetup:j("event.cancelThisMeetup","Cancel this Meetup"),cancelConfirm:j("event.cancelConfirm","Ready to cancel this {meetupType}?",{meetupType:"<span class='meetup-type'>Meetup</span>"}),deleteFromCalendar:j("event.deleteFromCalendar","Cancel AND delete it from the calendar?"),cancelExplanation:j("event.cancelExplanation","Once you cancel, we'll alert any members who RSVPed yes. Your canceled Meetup will appear crossed out on the calendar in case you want to dig up its details later.")}})).dialog({autoOpen:!1,closeText:"x",modal:!0,minHeight:!1,width:"500px"}),n=Handlebars.compile(['<div class="D_dialog" id="cancel-delete-dialog">','<p class="center-text bold">{{copy.deleteConfirm}}</p>','<div class="footElement">','<p><input type="submit" name="delete" value="{{copy.deleteThisMeetup}}" class="button primary" id="delete-meetup-only" /></p>','<a href="#" id="meetupDelete">{{copy.neverMind}}</a>',"</div>","</div>"].join("")),o=a(n({copy:{neverMind:j("common.neverMind","Never mind"),deleteThisMeetup:j("event.deleteThisMeetup","Delete this Meetup"),deleteConfirm:j("event.deleteConfirm","Are you sure you want to delete this Meetup?")}})).dialog({autoOpen:!1,closeText:"x",modal:!0,minHeight:!1,width:"500px"}),p=Handlebars.compile(['<div class="D_dialog" id="cancel-auto-dialog">','<p class="bold">{{copy.meetupOnRepeatingSchedule}}</p>','<p><input type="radio" value="false" name="cancel-series" class="inline" id="cancel-onlyone" /> <label class="inline" for="cancel-onlyone">{{copy.cancelOnlyThisMeetup}}</label></input></p>','<p><input type="radio" value="true" name="cancel-series" class="inline" id="cancel-all" /> <label for="cancel-all" class="inline">{{copy.cancelThisAndFollowingMeetups}}</label></input></p>','<p><input type="checkbox" value="1" id="delete-meetup-auto" /> {{copy.alsoDeleteFromCalendar}}</p>','<div class="footElement">','<p><input type="submit" name="delete" value="{{copy.cancelThisMeetup}}" class="button primary" id="cancel-meetup-auto" /></p>','<a href="#" id="cancelMeetupDelete-auto">{{copy.neverMind}}</a>',"</div>","</div>"].join("")),q=a(p({copy:{meetupOnRepeatingSchedule:j("group.event.cancelThisOrAll2","This Meetup is on a repeating schedule"),cancelOnlyThisMeetup:j("event.cancelOnlyThisMeetup","Cancel only this Meetup"),cancelThisAndFollowingMeetups:j("event.cancelThisAndFollowingMeetups","Cancel this Meetup and all following Meetups"),alsoDeleteFromCalendar:j("event.alsoDeleteFromCalendar","Also delete from the calendar"),neverMind:j("common.neverMind","Never mind"),cancelThisMeetup:j("event.cancelThisMeetup","Cancel this Meetup")}})).dialog({autoOpen:!1,closeText:"x",modal:!0,minHeight:!1,width:"500px"});a.extend(c,b||{});var r=function(){return a("#delete-meetup-only").click(t),a("#deletedialog-report-meetup").click(u),a("#meetupDelete").click(function(a){a.preventDefault(),o.dialog("close")}),a("#cancel-meetup-auto").click(t),a("#cancelMeetupDelete-auto").click(function(a){a.preventDefault(),q.dialog("close")}),a("#cancel-meetup").click(t),a("#dialog-report-meetup").click(u),a("#cancelMeetupDelete").click(function(a){a.preventDefault(),m.dialog("close")}),c.dispatch?(d.delegate("."+c.className,"click",s),d):d.each(function(){a(this).click(s)})},s=function(b){b.preventDefault(),a(document.body).trigger("click");var c=a(this),d=a(this).data("nospam");c.data("dialog")&&"deleteOnly"==c.data("dialog")?(g="deleteOnly",o.dialog("open"),e=c.data("event"),f=c.data("series")||!1,i=c.data("creatorid"),Member.id==i||d?a("#deletedialog-report-meetup").parent().css("display","none"):a("#deletedialog-report-meetup").parent().css("display","block")):c.data("dialog")?(g="auto",q.dialog("open"),e=c.data("event"),h=c.data("eventdate"),i=null):(g="normal",m.dialog("open"),e=c.data("event"),h=c.data("eventdate"),f=c.data("series")||!1,i=c.data("creatorid"),Member.id==i||d?a("#dialog-report-meetup").parent().css("display","none"):a("#dialog-report-meetup").parent().css("display","block"),m.find(".meetup-type").html(f?k:"Meetup"))},t=function(b){b.preventDefault();var c="auto"==g?a("#delete-meetup-auto").is(":checked"):a("#delete-meetup").is(":checked")||"deleteOnly"==g,d="auto"==g?a("input[name='cancel-series']:checked",$get("cancel-auto-dialog")).val():f,i={method:"deleteEvent",arg_member:Member.id,arg_chapter:Chapter.id,arg_eventToken:e,arg_emailText:"",arg_isDelete:c,arg_entireSeries:d};a.ajax({type:"post",dataType:"json",url:API_URL,data:i,success:function(b){var d={success:c?"event_delete":"event_cancel",eventId:e,eventTitle:b.event_title,returnUri:Chapter.groupUrl};h&&(d.eventDate=h),window.location="redirect"==b.success?b.redirect:Chapter.groupUrl+"?"+a.param(d)},fail:function(){alert("Sorry, there was a problem. Please try again.")}})},u=function(b){b.preventDefault();var c=!0,d=!1,f={method:"deleteEvent",arg_member:Member.id,arg_chapter:Chapter.id,arg_eventToken:e,arg_emailText:"",arg_isDelete:c,arg_entireSeries:d};a.ajax({dataType:"json",url:API_URL,data:f,success:function(a){var b=[Meetup.Data.grouphome.baseUrl,"abuse/",i,"/?success=event_delete&eventTitle=",encodeURIComponent(a.event_title)].join("");window.location.replace(b)},fail:function(){alert("Sorry, there was a problem. Please try again.")}})};r()}}(jQuery),function(a){a.fn.approveEvent=function(b){var c={dispatch:!0,className:"approve-event"},d=a(this),e=(Meetup.Data.grouphome.baseUrl,a(['<div class="D_dialog">','<h2 style="font-size: 1.3em; font-weight: bold;">Announce this Meetup</h2>','<p class="bold">Click "Announce" to send an email to the group letting them know about this Meetup.</p>','<div class="footElement">','<p><input type="submit" name="submit" value="Announce" class="button primary" id="approve-meetup" /></p>','<a href="#" id="approve-meetup-cancel">Cancel</a>',"</div>","</div>"].join("")).dialog({autoOpen:!1,closeText:"x",modal:!0,minHeight:!1,width:"500px"}));a.extend(c,b||{});var f=function(){return c.dispatch?(d.delegate("."+c.className,"click",g),d):d.each(function(){a(this).click(g)})},g=function(b){b.preventDefault();var c=a(this),d=c.data("event");e.dialog("open"),c.data("isEventInitialized")||(a("#approve-meetup").click(function(a){a.preventDefault(),window.location.replace(Chapter.groupUrl+"create_event/?op=approve&event="+d)}),a("#approve-meetup-cancel").click(function(a){a.preventDefault(),e.dialog("close")}),c.data("isEventInitialized",!0))};f()}}(jQuery),function(a){a.fn.declineEvent=function(b){var c={dispatch:!0,className:"decline-event"},d=a(this),e=(Chapter.groupUrl,a(['<div class="D_dialog">','<h2 style="font-size: 1.3em; font-weight: bold; text-transform:capitalize;"><span class="decline-meetup-copy">Decline</span> this Meetup</h2>','<p class="bold">You can write a note to <span role="memberName" id="decline-meetup-membername">__MEMBER__</span> to let them know why.</p>','<textarea name="emailText" id="decline-meetup-textarea" style="background-color: #FFF; background-repeat: no-repeat; background-position: center center; background-attachment: scroll;"></textarea>','<div class="footElement">','<p><input type="submit" name="submit" value="Decline" class="button primary" id="decline-meetup" /></p>','<a href="#" id="decline-meetup-cancel">Cancel</a>',"</div>","</div>"].join("")).dialog({autoOpen:!1,closeText:"x",modal:!0,minHeight:!1,width:"500px"})),f={method:"deleteEvent",arg_member:Member.id,arg_chapter:Chapter.id,arg_eventToken:0,arg_emailText:"",arg_isDelete:!0,arg_entireSeries:!1};a.extend(c,b||{});var g=function(){return c.dispatch?(d.delegate("."+c.className,"click",h),d):d.each(function(){a(this).click(h)})},h=function(b){b.preventDefault();var d=a(this),g=d.data("event"),h=parseInt(d.data("suggesterformer"),10),i=d.data("suggester"),j=d.data("suggesterid");Member.isEvtOrg&&!h&&j!=Member.id?a("#decline-meetup-textarea").show():a("#decline-meetup-textarea").hide(),a("#decline-meetup-textarea").val(""),j!=Member.id?(a(".decline-meetup-copy").html("decline"),a("#decline-meetup-membername").html(i),a("#decline-meetup").attr("value","Decline")):(a(".decline-meetup-copy").html("delete"),a("#decline-meetup-membername").html("you"),a("#decline-meetup").attr("value","Delete")),e.dialog("open"),a("#decline-meetup").click(function(b){b.preventDefault();var h={arg_eventToken:g,arg_emailText:a.trim(a("#decline-meetup-textarea").val())},i=a.extend({},f,h);a.ajax({url:API_URL,data:i,success:function(){e.dialog("close"),"function"==typeof c.success&&c.success.apply(d[0],Array.prototype.slice.call(arguments,0))}}),a(this).unbind()}),a("#decline-meetup-cancel").click(function(a){a.preventDefault(),e.dialog("close")})};g()}}(jQuery),function(a){a.fn.editEvent=function(b){var c={dispatch:!0,className:"edit-event"},d=a(this),e="",f="",g="";trn=require("core/trn"),a("#edit-auto-dialog").remove();var h=Handlebars.compile(['<div class="D_dialog" id="edit-auto-dialog">','<p class="bold">{{{copy.repeatingMeetup}}}</p>','<label for="edit-onlyone"><input type="radio" value="false" name="edit-series" id="edit-onlyone" />{{{copy.editOnlyThisMeetup}}}</label>','<label for="edit-all"><input type="radio" value="true" name="edit-series" id="edit-all" />{{{copy.editThisAndFollowing}}}</label>','<div class="margin-top align-center">','<input type="submit" name="edit" value="{{{copy.editMeetup}}}" class="button primary" id="edit-meetup-auto" />','<a href="#" class="block" id="cancel-edit-meetup-auto">{{{copy.neverMind}}}</a>',"</div>","</div>"].join("")),i=a(h({copy:{repeatingMeetup:trn("group.event.cancelThisOrAll2","This Meetup is on a repeating schedule"),editOnlyThisMeetup:trn("event.editOnlyThisMeetup","Edit only this Meetup"),editThisAndFollowing:trn("event.editThisAndFollowing","Edit this Meetup and all the following Meetups"),editMeetup:trn("common.editUpCase","Edit"),neverMind:trn("common.neverMind","Never mind")}})).dialog({autoOpen:!1,closeText:"x",modal:!0,minHeight:!1,width:"500px"});a.extend(c,b||{});var j=function(){return a("#edit-meetup-auto").click(l),a("#cancel-edit-meetup-auto").click(function(a){a.preventDefault(),i.dialog("close")}),c.dispatch?(d.delegate("."+c.className,"click",k),d):d.each(function(){a(this).click(k)})},k=function(b){var c=a(this),d=c.data("series");return d===!0?(b.preventDefault(),e=c.attr("href"),f=c.data("from-date"),g=c.data("template"),i.dialog("open"),a("#edit-onlyone").prop("checked",!0),!1):void 0},l=function(b){b.preventDefault();var c,d=a("#edit-onlyone").prop("checked"),h=a("#edit-all").prop("checked");return d===!1&&h===!1?!1:(d?c=e:h&&(c=[e,"&fromDate=",f,"&fromTemplate=",g].join("")),void window.location.replace(c))};j()}}(jQuery);var callout={defaults:{my:"left top",at:"left top",offset:"-259 -27",collision:"none",side:"left"},dom:'<div class="infowidget-box jsStartHidden"><div class="tail"><div class="tailInner"></div></div><div class="infowidget-container"></div></div>',$elm:null,currentSide:null,init:function(a,b){var c=$(b);return $.extend(this.defaults,a||{}),this.$elm=$(this.dom).appendTo(c),this},getCallout:function(){return this.$elm},position:function(a,b){var c=b||this.defaults;this.$elm.position({of:$(a),my:c.my,at:c.at,offset:c.offset,collision:c.collision})},setPointerSide:function(a){this.currentSide&&this.$elm.removeClass(this.currentSide),this.$elm.addClass(a),this.currentSide=a},show:function(){this.$elm.removeClass("jsStartHidden")},hide:function(){this.$elm.addClass("jsStartHidden")}};Meetup.Socialize=function(){var a={},b=[],c=null,d=null,e=!0,f=!1,g=void 0,h=!1,i=0,j={},k=!1,l=!1,m=function(b){var c=a.checkboxFacebook.prop("checked"),d=a.checkboxTwitter.prop("checked"),e=[];c&&(e[e.length]="Facebook"),d&&(e[e.length]="Twitter");var f=$.extend({},{post_to_facebook:c?"1":"",post_to_twitter:d?"1":"",chapterId:"undefined"==typeof Chapter||"undefined"!=typeof Meetup.BD||"undefined"!=typeof Meetup.BD&&Meetup.BD.isFbApp?"":Chapter.id,eventId:"undefined"!=typeof muEvent?muEvent.id:"",message:a.textarea.val()},b||{});if(!l&&c){var g=FB.getAuthResponse();if(!g)return LOG.error("no cookie and no session, why you can call this?"),!1;f["fbsr_"+FB._apiKey]=Meetup.FB.QSencode(g.signedRequest)}$.ajax({type:"POST",url:"/social_media_blast/",data:f,success:function(a){k=!1;var b=o("false"!==a);if(b&&!b.quiet){var c=j.sendSocialMedia;if("true"==a)if(c)K(c,e);else{var d=Meetup.Copy.seeResult.replace("__PT__",e.join(" and "));Meetup.UI.Success.addSuccess(d,void 0,!0)}else c?K(c):Meetup.UI.Success.addError(Meetup.Copy.errorSharing,void 0,!0)}},error:function(){var a=j.sendSocialMedia;a?K(a):Meetup.UI.Success.addError(Meetup.Copy.errorSharing,void 0,!0)}}),$.get(["/r/site/www/0/",Meetup.Socialize.trackingCode,"/http://",window.location.hostname,"/img/clear.gif"].join(""))},n=function(){$("#facebookPromptDialog").dialog(),$("#facebookPromptDialog").trigger("appear")},o=function(){$("#facebookPromptDialog").trigger("dismiss")},p=function(b){b.preventDefault();var c=$(b.target).data("event"),d={};return c&&(d.eventId=c),a.shareIt.hasClass("disabled")?!1:k?!1:(k=!0,m(d),!0)},q=function(a,b){return function(){v(a,b)}},r=function(b){return a.checkboxFacebook.prop("checked")?f===!1?(b.preventDefault(),FB.login(s,{scope:"publish_stream"})):setTimeout(q("facebook",!0),100):setTimeout(q("facebook",!1),100),!1},s=function(){f=!0,v("facebook",!0),Meetup.FB.swapFbName(a.handleFacebook[0],!0),t()},t=function(){var a,b=!1,c=document.cookie.split(";");a:for(var d=0,e=c.length;e>d;++d)if(a=c[d].replace(/^\s+|\s+$/g,""),0===a.indexOf("fbsr_")){b=!0;break a}return b&&(l=!0),b},u=function(){$.ajax({url:Meetup.Data.path_api,data:{method:"getTwitterHandleForMember",arg_member:Member.id},success:x,error:z})},v=function(b,c){switch(b){case"facebook":c?(a.imgFacebook.length>0&&a.imgFacebook.attr({src:Meetup.Data.path_img_facebook}),a.checkboxFacebook.prop("checked",!0)):(a.imgFacebook.length>0&&a.imgFacebook.attr({src:Meetup.Data.path_img_facebook_g}),a.checkboxFacebook.prop("checked",!1));break;case"twitter":c?(a.imgTwitter.length>0&&a.imgTwitter.attr({src:Meetup.Data.path_img_twitter}),a.checkboxTwitter.prop("checked",!0)):(a.imgTwitter.length>0&&a.imgTwitter.attr({src:Meetup.Data.path_img_twitter_g}),a.checkboxTwitter.prop("checked",!1))}D()},w=function(b){b=b||Meetup.Twitter.get("handleName"),a.handleTwitter.html(['<a href="http://twitter.com/',b,'" target="_blank">@',b,"</a>"].join(""));var c=$('<span> (<a href="#">'+Meetup.Copy.notYou+"</a>)</span>");a.handleTwitter.append(c),c.find("a:first").bind("click",y)},x=function(a){var b;b=a.length<2?"":a,b.length>0?(i=0,Meetup.Twitter.set("hasTied",!0),Meetup.Twitter.set("handleName",b),w(),e||v("twitter",!0)):(Meetup.Twitter.set("hasTied",!1),2>i&&(++i,setTimeout(u,300))),e=!1},y=function(a){return a.preventDefault(),Meetup.Twitter.set("handleName",""),Meetup.Twitter.set("hasTied",!1),B(),!1},z=function(){Meetup.Twitter.set("hasTied",!1)},A=function(){null===d?d=setInterval(A,100):c.closed&&(clearInterval(d),d=null,setTimeout(u,300))},B=function(){var a="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,b="undefined"!=typeof window.screenY?window.screenY:window.screenTop,d="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,e="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,f=800,g=390,h=parseInt(a+(d-f)/2,10),i=parseInt(b+(e-g)/2.5,10),j="width="+f+",height="+g+",left="+h+",top="+i;c=window.open(Meetup.Data.path_twitter_tie,"twitter",j),A(),v("twitter",!1)},C=function(){return a.checkboxTwitter.prop("checked")?Meetup.Twitter.get("hasTied")?(setTimeout(q("twitter",!0),100),0===Meetup.Twitter.get("handleName").length&&setTimeout(u,300)):B():setTimeout(q("twitter",!1),100),!1},D=function(){E()?a.shareIt.removeClass("disabled"):a.shareIt.addClass("disabled")},E=function(){var a=!1;a:for(var c=0,d=b.length;d>c;++c)if(b[c].prop("checked")===!0){a=!0;break a}return a=a&&!h},F=function(){var b=a.textarea.val();b.match(/(\r\n)/)||(b.match(/(\r)/)?b=b.replace(/(\r)/g,"xx"):b.match(/(\n)/)&&(b=b.replace(/(\n)/g,"xx")));var c=b.length;h=0==c||void 0!==g&&c>g?!0:!1,D()},G=function(b,c,d){n=c||n,o=d||o,a.shareIt=$(b.shareIt),a.imgFacebook=b.imgFacebook?$(b.imgFacebook):null,a.imgTwitter=b.imgTwitter?$(b.imgTwitter):null,a.handleFacebook=$(b.handleFacebook),a.handleTwitter=$(b.handleTwitter),a.textarea=$(b.textarea),a.checkboxFacebook=$(b.checkboxFacebook),a.checkboxTwitter=$(b.checkboxTwitter),I(c,d)},H=function(b,c){n=b||n,o=c||o,a.shareIt=$("#shareIt"),a.imgFacebook=$("#facebookImg"),a.imgTwitter=$("#twitterImg"),a.handleFacebook=$("#facebookHandle"),a.handleTwitter=$("#twitterHandle"),a.textarea=$("#arg_message"),a.checkboxFacebook=$("#arg_shareToggle_facebook"),a.checkboxTwitter=$("#arg_shareToggle_twitter"),I(b,c)},I=function(){b=[a.checkboxFacebook,a.checkboxTwitter],a.shareIt.bind("click",p),a.checkboxFacebook.bind("click",r),a.checkboxTwitter.bind("click",C);var c=a.textarea.attr("class");if(c){var d=c.match(/\bmaxChars(\d+)\b/);null!==d&&(g=parseInt(d[1])),a.textarea.bind("keyup",F),F()}Meetup.Twitter.get("hasTied")?(i=2,u(),v("twitter",!0)):e=!1,Meetup.FB.get("hasTied")&&Meetup.FB.ready(function(){Meetup.FB.permissions.publish_stream&&(v("facebook",!0),f=!0,t())}),n.call(this)},J=function(a,b){var c=j[a];void 0===c&&(c=j[a]=[]),c[c.length]=b},K=function(a,b){for(var c,d=0,e=a.length;e>d;++d){var c=a[d];"function"==typeof c&&c(b)}};return{init:H,initWithElement:G,trackingCode:"none",attach:J}}(),function(a){a.belowthefold=function(b,c){var d=a(window).height()+a(window).scrollTop();return d<=a(b).offset().top-c.threshold},a.abovethetop=function(b,c){var d=a(window).scrollTop();return d>=a(b).offset().top+a(b).height()-c.threshold},a.rightofscreen=function(b,c){var d=a(window).width()+a(window).scrollLeft();return d<=a(b).offset().left-c.threshold},a.leftofscreen=function(b,c){var d=a(window).scrollLeft();return d>=a(b).offset().left+a(b).width()-c.threshold},a.inviewport=function(b,c){return!(a.rightofscreen(b,c)||a.leftofscreen(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return a.abovethetop(b,{threshold:0})},"left-of-screen":function(b){return a.leftofscreen(b,{threshold:0})},"right-of-screen":function(b){return a.rightofscreen(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})}})}(jQuery);var socialshareWidget={socialshareDefaults:{eventid:0,my:"right top",at:"right top",offset:"259 -30",position:"left"},defaults:{},$elm:null,socialshareCallout:null,$socialshareCallout:null,$container:null,isShareShown:!1,init:function(a,b){return this.$elm=$(b),0===$("#socialshare-container").length?($.plugin("socialshareCallout",callout),$(document.body).socialshareCallout(),this.$socialshareCallout=$(document.body).data("socialshareCallout"),this.socialshareCallout=this.$socialshareCallout.getCallout(),$(".infowidget-container:first",this.socialshareCallout)[0].id="socialshare-container",this._setContainer()):(this.$socialshareCallout=$(document.body).data("socialshareCallout"),this.socialshareCallout=this.$socialshareCallout.getCallout(),this._setContainer()),this.defaults=$.extend({},this.socialshareDefaults,a||{}),this.defaults.success&&"function"==typeof this.defaults.success&&this.$elm.bind("socialshareSuccess",this.defaults.success),this.defaults.error&&"function"==typeof this.defaults.error&&this.$elm.bind("socialshareError",this.defaults.error),this.defaults.cancel&&"function"==typeof this.defaults.cancel&&this.$elm.bind("socialshareCancel",this.defaults.cancel),this},_setContainer:function(){this.$container=$("#socialshare-container")},_closeBox:function(){this.isShareShown===!1&&this.defaults.more?this._displayMore():(this.$socialshareCallout.hide(),this.$elm.triggerHandler("socialshareClose"))},_displayShare:function(){if(!this.defaults.hasDisplayShareCalled){this.defaults.hasDisplayShareCalled=!0;var a=this,b=$("<div/>").html(Chapter.name).text(),c={header:this.defaults.header||"Let people know...",fname:Meetup.Data.fbname,chapter:Chapter.id,group:b,event:this.defaults.eventid,shorturl:this.defaults.shorturl,type:this.defaults.type,stars:this.defaults.stars};switch(c.defaultCopy=this.defaults.copy?[this.defaults.copy," ",this.defaults.shorturl].join(""):["I'm attending a Meetup with ",b," ",this.defaults.shorturl].join(""),this.defaults.type){case"rsvp":Meetup.Socialize.trackingCode="smb_rsvp";break;case"create_event":Meetup.Socialize.trackingCode="smb_evcr";break;case"approve_event":Meetup.Socialize.trackingCode="smb_apev";break;case"post_survey":Meetup.Socialize.trackingCode="smb_evrv";break;case"group_join":Meetup.Socialize.trackingCode="smb_join";break;case"mitm":Meetup.Socialize.trackingCode="smb_mitm";break;case"group_create":Meetup.Socialize.trackingCode="smb_grcr";break;default:Meetup.Socialize.trackingCode="smb_fxme"}temp=Handlebars.compile(Meetup.Templates.socialshareWidget.shareTemplate)(c),this.$container.replaceWith(temp),this._setContainer(),FB&&FB.XFBML.parse(document.getElementById("rsvpFacebookHandle")),Meetup.Socialize.initWithElement({shareIt:document.getElementById("submit-share"),imgFacebook:document.getElementById("rsvpIconFacebook"),imgTwitter:document.getElementById("rsvpIconTwitter"),handleFacebook:document.getElementById("rsvpFacebookHandle"),handleTwitter:document.getElementById("rsvpTwitterHandle"),textarea:document.getElementById("shareMessage"),checkboxFacebook:document.getElementById("rsvpToggleFacebook"),checkboxTwitter:document.getElementById("rsvpToggleTwitter")},void 0,function(){return a._closeBox(),!0}),Meetup.Socialize.attach("sendSocialMedia",$.proxy(this._onSocializeCallback,this)),$("#shareMessage").CharCounter(),$("#close-share").click(function(b){b.preventDefault(),a._closeBox(),a.$elm.triggerHandler("socialshareCancel")})}},_onSocializeCallback:function(a){void 0!==a&&a instanceof Array?this.$elm.triggerHandler("socialshareSuccess",[a]):this.$elm.triggerHandler("socialshareError")},showWidget:function(){this.$socialshareCallout.setPointerSide(this.defaults.position),this.$socialshareCallout.show(),this.$socialshareCallout.position(this.defaults.of,{my:this.defaults.my,at:this.defaults.at,offset:this.defaults.offset,collision:"none"}),this._displayShare()},hideWidget:function(){this._closeBox()},_displayMore:function(){this.isShareShown=!0;var a=this,b={title:this.defaults.more.title,body:this.defaults.more.body},c=Handlebars.compile(Meetup.Templates.socialshareWidget.moreTemplate)(b);this.$container.replaceWith(c),this._setContainer(),$("#close-share").click(function(b){b.preventDefault(),a._closeBox()})},showMore:function(a){a&&(this.defaults.more=a),this.$socialshareCallout.setPointerSide(this.defaults.position),this.$socialshareCallout.show(),this.$socialshareCallout.position(this.defaults.of,{my:this.defaults.my,at:this.defaults.at,offset:this.defaults.offset,collision:"none"}),this._displayMore()}};!function(a,b){if(a.fn.hoverToEdit)return!1;var c="hoverToEdit",d="elementid",e={change:Handlebars.compile('<a href="#" class="hover-to-edit-change hover-to-edit-menu-item" title="{{TIP}}">{{{COPY}}}</a>'),cancel:Handlebars.compile('<a href="#" class="hover-to-edit-cancel hover-to-edit-menu-item" title="{{TIP}}">{{{COPY}}}</a>')},f="hover-to-edit-hovering",g="hover-to-edit-disable",h="hover-to-edit-noposchange",i="hover-to-edit-ext-change",j="hover-to-edit-disabled";a.fn.hoverToEdit=function(b){var e={delegate:!0,className:"hover-to-edit"},f=this,g=function(){if(a.extend(e,b||{}),e.delegate)f.find("."+e.className).each(function(a,b){new l(b,e)}),f.delegate("."+e.className,"hover",j).delegate("."+i,"click",function(a){h(a,"change")});else{var c=new l(f[0],b);f.hover(a.proxy(c.onMouseEnter,c),a.proxy(c.onMouseLeave,c)).delegate("."+i,"click",function(a){h(a,"change")})}},h=function(b,e){var f=a(b.currentTarget).data(d),g=document.getElementById(f);if(!g)return!1;var h=a(g).data(c);switch(e){case"change":h.onChangeClick(b)}},j=function(b){var d=a(b.currentTarget).data(c);"mouseenter"==b.type?d.onMouseEnter(b):d.onMouseLeave(b)};g()};var k={noCancel:!1,changeCopy:b&&b["common.change"]||"change",changeTip:b&&b["common.change"]||"change",changeCallback:null,cancelCopy:"x",cancelTip:b&&b["common.remove"]||"remove",cancelCallback:null,enabled:!0,noPosChange:!1},l=function(b,d){this.option=a.extend({},k,d.each["#"+b.id]||{}),this.original={};var e=m(b,{cancelCopy:this.option.cancelCopy,cancelTip:this.option.cancelTip,changeCopy:this.option.changeCopy,changeTip:this.option.changeTip},this.option.noCancel);this.element={root:b,change:e.change,cancel:e.cancel},a(b).hasClass(j)&&(this.option.enabled=!1),a(b).hasClass(h)&&(this.option.noPosChange=!0),a(this.element.change).click(a.proxy(this.onChangeClick,this)),this.option.noCancel||a(this.element.cancel).click(a.proxy(this.onCancelClick,this)),this.resetPosition(),this.option["background-color"]&&(this.original={"background-color":a(this.element.root).css("background-color")}),a(b).data(c,this)};l.prototype.onMouseEnter=function(){return this.option.enabled?void this.showHoverMenu():!0},l.prototype.onMouseLeave=function(){return this.option.enabled?void this.hideHoverMenu():!0},l.prototype.onChangeClick=function(a){a.preventDefault(),this.disable(),"function"==typeof this.option.changeCallback&&this.option.changeCallback(a,this.element.root)},l.prototype.onCancelClick=function(a){a.preventDefault(),this.disable(),"function"==typeof this.option.cancelCallback&&this.option.cancelCallback(a,this.element.root)},l.prototype.resetPosition=function(){{var b,c;a(this.element.root)}this.option.noCancel||(b=a(this.element.cancel),b.css({visibility:"hidden",display:"block"})),c=a(this.element.change),this.option.noCancel||(c.css("right",b.outerWidth()+1+"px"),b.attr("style",""))},l.prototype.disableCancel=function(){a(this.element.root).removeClass(j)},l.prototype.enableCancel=function(){a(this.element.root).addClass(j)},l.prototype.showHoverMenu=function(){var b=a(this.element.root);return b.hasClass(g)?!1:(b.addClass(f),this.option.noPosChange||b.css("position","relative"),void(this.option["background-color"]&&b.css("background-color",this.option["background-color"])))},l.prototype.hideHoverMenu=function(){var b=a(this.element.root);b.removeClass(f),this.option.noPosChange||b.css("position","static"),this.option["background-color"]&&b.css("background-color",this.original["background-color"])},l.prototype.enable=function(){this.option.noCancel||this.element.root.appendChild(this.element.cancel),this.element.root.appendChild(this.element.change),this.resetPosition(),this.option.enabled=!0},l.prototype.disable=function(){this.hideHoverMenu(),!this.option.noCancel&&a.contains(this.element.root,this.element.cancel)&&this.element.root.removeChild(this.element.cancel),a.contains(this.element.root,this.element.change)&&this.element.root.removeChild(this.element.change),this.option.enabled=!1};var m=function(b,c,d){var f,g,h={};return d||(f=a(e.cancel({COPY:c.cancelCopy,TIP:c.cancelTip})),h.cancel=f[0],b.appendChild(h.cancel)),g=a(e.change({COPY:c.changeCopy,TIP:c.changeTip})),h.change=g[0],b.appendChild(h.change),h}}(jQuery,Meetup.Copy),Meetup.FeedInfoWidget=function(){var a={className:"v4-feed-item-tag",popupClassName:"v4-feed-popup",emptyClassName:"v4-feed-popup-empty",calloutIdPrefix:"feedpopup-widget-container-",my:"right top",at:"left top",offset:"1 -8",position:"right"},b=function(a,b){var c=this.defaults,d=this.$infoContainer[0],e=a.popup;if(e)d.innerHTML=e,this.preventShow=!1,this.widgetPopulated();else{var f=$("."+c.popupClassName,b);f.hasClass(c.emptyClassName)?this.preventShow=!0:(d.innerHTML=f[0].innerHTML,this.preventShow=!1,this.widgetPopulated())}};return function(c,d){void 0===$.data(document.body,"feedinfo-widget")&&$.data(document.body,"feedinfo-widget",{});var e=$.extend(a,d||{}),f=new Meetup.InfoWidget(c,b,e),g=function(){c.undelegate("."+e.className,"hover")},h=$(".module_slot.chapter_feed_rightside");return h.length>0&&h.bind("destruct",g),f}}(),function(a){return a.fn.dialogPopup?!1:void(a.fn.dialogPopup=function(b){var c,d=a.extend({width:840,height:540,delegate:!0,className:"J_dialogPopup"},b||{}),e="dialogPopup_",f=function(b,c,f){var g=d.width-60,h=d.height-20,i=e+(b.data("dialogpopupid")?b.data("dialogpopupid"):(new Date).valueOf()),j=a(['<div class="D_dialog">','<iframe frameborder="0" style="border-width: 0; margin: 10px auto 0 auto;" src="'+c+'" width="'+g+'" height="'+h+'" id="'+i+'" />',"</div>"].join(""));return j.dialog({autoOpen:!1,closeText:"x",modal:!0,minHeight:!1,width:d.width,minHeight:d.height}),f&&"function"==typeof f&&f(j),j},g=function(a,b){var c=a.data("dialog");return c||(c=f(a,b),a.data("dialog",c),a.data("refresh")&&c.bind("close",function(){c.dialog("destroy"),a.data("dialog",null)})),c};return d.delegate?(c=a.makeArray(this.find("."+d.className)),this.delegate("."+d.className,"click",function(b){b.preventDefault();var c=a(b.target),d=c.attr("href");d&&g(c,d).dialog("open")})):c=this.each(function(b,c){var d=a(c),e=c.href;e&&d.bind("click",function(a){a.preventDefault(),g(d,e).dialog("open")})}),c})}(jQuery),function(a){var b={startDelay:500,fadeThis:!1};a.fn.waitPls=function(c){var d=a.extend({},b,c);if(this.length){var e=this;e.spinner=!1,e.timeout=!1,e.show=function(){var b,c,f;clearTimeout(e.timeout),e.spinner||(e.spinner=a('<div class="BD_spinner"></div>').appendTo("body"),b=e.offset(),c=Math.round(b.top+e.outerHeight()/2-e.spinner.outerHeight()/2),f=Math.round(b.left+e.outerWidth()/2-e.spinner.outerWidth()/2),"number"==typeof d.fadeThis&&e.css("opacity",d.fadeThis),e.spinner.css({display:"none",top:c+"px",left:f+"px"}).fadeIn("slow"))},e.stop=e.hide=function(){clearTimeout(e.timeout),e.spinner&&(e.spinner.remove(),"number"==typeof d.fadeThis&&e.css("opacity",1),e.spinner=!1)},e.start=function(){e.timeout=setTimeout(e.show,d.startDelay)}}return this}}(jQuery),function(a,b){Meetup.MustacheTemplates===a&&(Meetup.MustacheTemplates={}),Meetup.MustacheTemplates.misc=b.extend(Meetup.MustacheTemplates.misc||{},{youtubeEmbed:'{{! expecting a video ID}}\n\n<iframe width=" 480" height="270" src="https://www.youtube.com/embed/{{videoID}}" frameborder="0" allowfullscreen></iframe>\n',"null":"",vineEmbed:'<iframe class="vine-embed" src="https://vine.co/v/{{videoID}}/embed/simple" width="600" height="600" frameborder="0"></iframe><script async src="//platform.vine.co/static/scripts/embed.js" charset="utf-8"></script>\n'})
}(void 0,jQuery),RegExp.escape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},Meetup.EmbedConverter={supportedServices:{"vimeo.com/":"//vimeo.com/api/oembed.json","hulu.com/watch/":"//www.hulu.com/api/oembed.json","youtu.be/":!1,"youtube.com/":!1},insertEmbed:function(a){if(a){var b=$(a);b.filter("iframe").attr("data-video-url",$(this).attr("href")),$(this).replaceWith(b)}},getEmbed:function(a,b){var c=$.map(this.supportedServices,function(a,b){return RegExp.escape(b)}),d=new RegExp(c.join("|")).exec(a)||[null],e=[],f=!1;switch(d[0]){case"youtu.be/":case"youtube.com/":return e=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*)/),b(e&&11==e[2].length?Handlebars.compile(Meetup.MustacheTemplates.misc.youtubeEmbed)({videoID:e[2],protocol:window.location.protocol}):!1);case"vine.co/":return e=a.match(/^.*vine.co\/v\/([^\/#\&\?]*)/),b(e&&11==e[1].length?Handlebars.compile(Meetup.MustacheTemplates.misc.vineEmbed)({videoID:e[1]}):!1);case null:return b(!1);default:$.ajax({method:"GET",url:this.supportedServices[d[0]]||"//noembed.com/embed",dataType:"jsonp",data:{url:a,maxwidth:"480px",nowrap:"on"}}).done(function(a){return f=!0,b(a.html)}),setTimeout(function(){f||b(!1)},3e3)}},replaceLink:function(){Meetup.EmbedConverter.getEmbed($(this).attr("href"),$.proxy(Meetup.EmbedConverter.insertEmbed,this))},replaceEmbed:function(){var a=$(this);videoURL=a.data("video-url"),$videoLink=$("<p><a class='embedded' href='"+videoURL+"'>"+videoURL+"</a></p>"),a.replaceWith($videoLink)}},function(a,b){"use strict";b&&$(document).on("track:microtarget",function(){$(".mt-track").waypoint({handler:function(){var a=$(this).data();b.get({data:{method:"logImpression",arg_area:a.area,arg_rule:a.rule,arg_banditCode:a.banditCode||"",arg_banditVariant:a.banditVariant||""}})},offset:"bottom-in-view",triggerOnce:!0})})}(window,window[Meetup.Mobile?"MM":"Meetup"].RemoteApi),define("shared/googlePlaces",["core/loadscript"],function(a){var b,c="https://maps.googleapis.com/maps/api/js?client=gme-meetup&libraries=places";return{getNearbyPlaces:function(a,c,d,e){return b.nearbySearch({location:new google.maps.LatLng(c,d),rankBy:google.maps.places.RankBy.DISTANCE,name:a},e)},getPlaceDetails:function(a,c){return b.getDetails({placeId:a},c)},loadPlaces:function(){function d(){b||(b=new google.maps.places.PlacesService(document.createElement("div"))),e.resolve()}var e=$.Deferred();return void 0===window.google?a.include(c,d):d(),e}}}),define("tmpl/chapter/welcomeVideo",["handlebars-runtime"],function(a){return a.template({1:function(){return"//player.vimeo.com/video/115232133"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="D_dialog" id="group-start-video">\n	<iframe width="580"\n		height="360"\n		data-no-flash-hide="true"\n		src="';return e=b.trn.call(a,"group.home.gettingStartedVideoUrl",{name:"trn",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+'"\n		frameborder="0"\n		allowfullscreen>\n	</iframe>\n</div>\n'},useData:!0})}),require(["tmpl/chapter/welcomeVideo"],function(){}),define("site/chapter/welcomeVideo",function(){}),define("shared/interstitial",["module","exports","jquery"],function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=d(c),g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=".j-interstitial",i="intercept:dismissed",j="overlayMode",k=".interstitial-action",l=".j-action",m=function(){function a(){e(this,a),this._grabElements(),this.isActive=this.$el.length>0,this.isActive&&(this._addListeners(),this.open())}return g(a,[{key:"_grabElements",value:function(){this.$el=f.default(h)}},{key:"_addListeners",value:function(){this.$el.on("click",this.close.bind(this))}},{key:"open",value:function(){f.default("body").addClass(j)}},{key:"close",value:function(a){var b,c=a?f.default(a.target):null;(c.is(h)||c.is(k)||c.is(l))&&(f.default("body").removeClass(j),this.$el.trigger(i),this.$el.off("click"),b=this.$el.find(k),b.data("target")?f.default("."+b.data("target")).remove():this.$el.remove())}},{key:"getEl",value:function(){return this.$el}}]),a}();b.default={init:function(){var a=new m;return a},SELECTOR:h,DISMISS_SELECTOR:k,DISMISSED_EVENT:i},a.exports=b["default"]}),require(["shared/interstitial"],function(a){a.init()}),define("site/chapter/welcomeInterstitial",function(){}),Meetup.GroupHome=function($){var $eventList=null,$eventItems=null,AUTOSCHEDULE_PAGE_LENGTH=3,$doc=$("#C_document"),tracking_name={past:"GROUP_events_>_past",upcoming:"GROUP_home",drafts:"GROUP_events_>_drafts",making:"GROUP_events_>_making",unofficial:"GROUP_events_>_unofficial"},getAutoschedulePage=function(a,b){var c=$("#series_"+a),d=$("table",c),e=Handlebars.compile(Meetup.Templates.autoScheduleEvent),f={method:"getNextEventsInSeries",arg_memberId:Member.id||0,arg_meetupdayId:a,arg_startDate:b,arg_maxEvents:AUTOSCHEDULE_PAGE_LENGTH+1,arg_locale:Meetup.Language},g=function(a){var b,f,g=[];a&&a.result&&(b=a.result,f=b.length<=AUTOSCHEDULE_PAGE_LENGTH,$.each(b.slice(0,AUTOSCHEDULE_PAGE_LENGTH),function(b,c){var d=parseInt(c.commentCount,10);d=isNaN(d)?0:d;var f=Meetup.trn("common.going.n","{NUM} going",{NUM:c.confirmCount}),h={eventTitle:c.title,startDate:a.lastDate,eventUrl:c.event_url,eventDate:c.local_time,goingCopy:f,hasRsvps:function(){return 0==parseFloat(this.rsvpCount)?!1:!0}};g.push(e(h))}),$.each(g,function(a,b){var c=$(b).hide(),e=$("span",c).hide();c.appendTo(d),c.css("display","table-row"),e.fadeIn()}),f&&$(".more-dates",c).remove())};$.ajax({type:"GET",url:Meetup.URL.chapterapi,data:f,success:function(a){g(a)}})},scrollToMeetupList=function(a){var b=$("#events-list-module").offset().top,c=a?"0":"fast",d=$(".event-item, .mOverShowKids"),e=$(window),f=e.scrollTop()+e.height();d.length&&d.eq(0).offset().top+d.eq(0).outerHeight()>f&&$("html, body").animate({scrollTop:b},c)},pageMeetups=function(event,params){event.preventDefault();var $elm=$(this),currentOp=$("#events-nav > .tabControl-tab--selected > a").data("op"),futureOp=$elm.data("op"),page=$elm.data("pageto"),scrollMaybeRequired=$elm.data("scroll");if(futureOp===currentOp&&!($elm.hasClass("cal-back")||$elm.hasClass("cal-fwd")||page>0))return!1;$("#ajax-container").addClass("loadingAjax").trigger("onajaxsubmit");var op=$elm.data("op"),calendarDate=$elm.data("calendarDate"),append=$elm.data("append");window.location.hash=op?op:"upcoming";var params={page:page,calendarDate:calendarDate,__fragment:"centerColMeetupList"},url=op&&""!==op?"events/"+op+"/":"";scrollMaybeRequired&&scrollToMeetupList(),$.ajax({url:Chapter.groupUrl+""+url,data:params,success:function(data){var content=eval(data),temp=$(content[0]);$("img[data-src]",temp).lazyImg();var pn=op&&""!=op?tracking_name[$.trim(op)]:tracking_name.upcoming;if("undefined"!=typeof pn&&Meetup.pageTracker._trackPageview(pn),$(".textInputTip",temp).TextInputTip(),$(".hasMaxLen",temp).CharCounter(),append)$("#centerColMeetupListRearguard").replaceWith(temp);else if($("#ajax-container").html(temp),$("#events-nav li.tabControl-tab--selected").removeClass("tabControl-tab--selected"),""===op)$("#upcomingTab").closest("li").addClass("tabControl-tab--selected");else if("seePastMeetups"==$elm.attr("id")){$("#pastTab").closest("li").addClass("tabControl-tab--selected");var off=$("#lma").offset();off.top<$(window).scrollTop()&&window.scrollTo(off.left,off.top)}else $('#events-nav [data-op="'+op+'"]').closest("li").addClass("tabControl-tab--selected");if(void 0!==typeof content[1]&&0!==content[1].trim().length){var recentMeetupsContent=$(content[1]);$("img[data-src]",recentMeetupsContent).lazyImg(),$("#recentMeetups").remove(),$("#conversationPanel").remove(),$("#events-list-module").after(recentMeetupsContent),$("#ajax-container").trigger("onajaxsuccess")}Meetup.Layout.adjustPageHeight(!0)},error:function(){Meetup.Data.loadXDUtil?window.location.reload():alert("Sorry, there was a problem. Please try again.")}})},onWelcomeChangeClick=function(){$("#welcome-message").data("current",$("#headlineEditor").val()),showHeadlineEditor()},showHeadlineEditor=function(){$("#headlineEditor").trigger("reset"),$("#welcome-message").addClass("jsStartHidden"),$("#headlineEditor-wrap").removeClass("jsStartHidden")},hideHeadlineEditor=function(){$("#welcome-message").removeClass("jsStartHidden").data("hoverToEdit").enable(),$("#headlineEditor").trigger("clear"),$("#headlineEditor-wrap").addClass("jsStartHidden")},hoverToEdit_init=function(){$("#welcome-message").hasClass("hover-to-edit")&&($("#welcome-message").hoverToEdit({delegate:!1,each:{"#welcome-message":{noCancel:!0,changeCallback:onWelcomeChangeClick}}}),$("#editHeadline-cancel").click(function(a){a.preventDefault(),hideHeadlineEditor(),$("#headlineEditor").val($("#welcome-message").data("current"))}),$("#editHeadline-save").click(function(a){a.preventDefault(),$.ajax({type:"POST",url:Meetup.URL.api,data:{method:"updateChapterSetting",arg_memberId:Member.id,arg_chapterId:Chapter.id,arg_settingField:"headline",arg_value:$("#headlineEditor").val()},success:function(a){$("#welcome-message").html(a),$("#headlineEditor").val(a),hideHeadlineEditor()}})}))},toggleRsvpFacepile=function(a){a.preventDefault();var b=$("#fb-friend-callout");if(0===b.length)return!1;var c=b.find(".ghurf-facepile-collapse"),d=b.find(".change-copy");b.hasClass("expanded")?(c.css("display","none"),d.length&&d.text(d.data("copymore"))):(c.css("display","block"),d.length&&d.text(d.data("copyless"))),b.toggleClass("expanded")},groupStartVideo=function(){var a=($("#new-group-video-thumbnail"),require("tmpl/chapter/welcomeVideo")),b=null,c=function(){if(null===b){var c=$(a({})).appendTo("body");b=c.dialog({autoOpen:!1,closeText:"x",modal:!0,width:640,close:function(){c.remove(),b=null}})}},d=function(){$("#events-list-module").on("mouseover","#new-group-video-thumbnail",c),$("#events-list-module").on("click","#new-group-video-thumbnail",function(a){a.preventDefault(),b.length>0&&b.dialog("open")})};$(d)}();return{init:function(){if($eventList=$(".event-list"),$eventItems=$(".event-item",$eventList),$ajaxContainer=$("#ajax-container"),$ajaxContainer.AjaxProgress(),$("img[data-src]").lazyImg(),$("#lma .textInputTip").TextInputTip(),$(".hasMaxLen").CharCounter(),$ajaxContainer.delegate("a.cal-nav","click",function(a){a.preventDefault();$(this).data("date")}),$(document).off("click",".page-meetups",pageMeetups),$(document).on("click",".page-meetups",pageMeetups),$ajaxContainer.delegate(".more-dates","click",function(a){a.preventDefault();var b=$(this),c=b.data("meetupdayid"),d=b.closest(".event-autoscheduleInfo").find("tr:last").data("date");getAutoschedulePage(c,d)}),Member.isMember&&(hoverToEdit_init(),Meetup.LMA.init(),$(".event-list").editEvent()),Member.isVisitor){var a=$("#lma-suggest");a.length>0&&a.click(function(a){var b=$(a.target);if(b.hasClass("for-visitor")){a.preventDefault();var c=b.parents("form");return c.submit(),!1}})}var b=$("#fb-friend-callout");b.length&&("urf4"===b.data("urf")?Meetup.MemberInfoWidget(b,{offset:"4, -25",trackingCode:"sj51b",splitTest:"sjcc1"}):(Meetup.MemberInfoWidget(b,{offset:"4, -25",trackingCode:"sj51b"}),b.delegate(".toggle-facepile","click",toggleRsvpFacepile)));var c=$(".v4-gh-main-column");c.length&&Meetup.MemberInfoWidget(c,{offset:"4 -25",trackingCode:"sj51b"});var d=$("#alien-group-review");d.length&&Meetup.MemberInfoWidget(d,{offset:"4 -25",trackingCode:"sj51b"});var e=$("#who-do-i-know");if(e.length){var f=function(a){a.preventDefault(),$target=$(a.target),Meetup.FB.ready(function(){Meetup.FB.extendPerms("email,user_friends",function(){window.location.replace($target.data("uri"))},function(){})})};e.click(f),e.on("mouseover",function(){Meetup.FB.loadFB()})}"true"===parseQueryString(window.location.search).scroll&&scrollToMeetupList(!0),$("#groupDesc").find(".embedded").each(Meetup.EmbedConverter.replaceLink),$(document).trigger("track:microtarget")}}}(jQuery);
//# sourceMappingURL=ghome.map