jQuery.fn.AjaxProgress=function(){return this.each(function(){var a="/img/ajax_loader_trans.gif",b="onajaxsubmit",c="onajaxsuccess",d=$('<div class="interstitialblock please-wait" />'),e=$('<div class="D_centeredAjaxSpinner please-wait"><img src="'+a+'" /> </div>'),f=null,g=function(a){f=$(a),f.bind(b,h),f.bind(c,i)},h=function(a,b){a.stopPropagation();var c=!!b;f.addClass("loadingAjax"),d.appendTo(f).css({height:f.outerHeight(),width:f.outerWidth()}).position({of:f,at:"center center",my:"center center",offset:"",collision:"none"}),c||e.appendTo(f).position({of:f,at:"center top",my:"center top",offset:"0 25",collision:"none"})},i=function(a){a.stopPropagation(),f.removeClass("loadingAjax"),d.remove(),e.remove()};g(this)})},FeedPager=function(){var a="/home/feed/",b=[],c=null,d={},e={},f="display-none",g=function(a){k(),d.page_start=a,i(d)},h=function(){m();new d.constructor;d._=+new Date,d.page_start=null,i(d,!0)},i=function(b,d){"boolean"==typeof b&&(d=b,b=null),"object"!=typeof b&&(b={}),"boolean"!=typeof d&&(d=!1),b.__AJAX_FORM_FORWARD_NAME="",c.find(".J_feedPager").each(function(){$(this).trigger("onajaxsubmit")}),$.ajax({method:"POST",url:a,data:b,success:function(a){j(d,a)},failure:function(){c.append($("<h2>Sorry, an error occured</h2>"))}})},j=function(a,b){if(b&&b.replace(/^\s*|\s*$/g,"").length>0){var d=$get("D_liveFeedItems");a?d.innerHTML=b:d.innerHTML+=b}c.find(".J_feedPager").each(function(){$(this).trigger("onajaxsubmit")}),l(),n()},k=function(){c.find(".J_feedPager:first").addClass(f),c.find(".feedPagerLoadingPlaceholder:first").removeClass(f)},l=function(){c.find(".J_feedPager:first").removeClass(f),c.find(".feedPagerLoadingPlaceholder:first").addClass(f),r()},m=function(){c.trigger("onajaxsubmit")},n=function(){c.trigger("onajaxsuccess")},o=function(a){a.preventDefault(),Meetup.pageTracker._trackPageview("Feed load more");var d=c.find("input.J_feedPagerDataOlder",c);if(d.length>0){var e=d.val();b.push(d),d.remove(),g(e)}},p=function(a){a.preventDefault(),Meetup.pageTracker._trackPageview("Feed Refresh"),h()},q=function(a){a&&a[0]&&("A"!=a[0].tagName&&(a=$("a",a)),a.click(p))},r=function(){c.find("a.J_pageOlder").each(function(){s($(this))})},s=function(a){c.find("input.J_feedPagerDataOlder")[0]?a.removeClass(f):(a.addClass(f),c.find(".J_feedPager:first").addClass(f))},t=function(a){var b={},c=a.split("?"),d=c[0];if(c.length<2)return[d,b];var e=function(a,b){var c=a.split("=");b[c[0]]=c.length<1?c[0]:c.slice(1).join("=")},f=c.slice(1).join("?");c=f.split("&");for(var g=0,h=c.length;h>g;++g)e(c[g],b);return[d,b]},u=function(b,f,g){if(e.onDestructor=$(b).on("destruct",p),"string"!=typeof f)return void LOG.error("feedpager: url is not a string");if(null===b)return void LOG.error("no valid element passed");var h=t(f);a=h[0],d=h[1],c=$(b),r(),c.delegate("a.J_pageOlder","click",o),c.delegate(".D_refreshBtn","click",p),null!==g&&q(g)};return{pageTo:g,init:u,onDestruct:p,pointer:e,refresh:h}}(),Meetup.DOMReady.ready(function(){$("div.J_ajaxProgress").AjaxProgress()});
//# sourceMappingURL=Modules.jquery.map